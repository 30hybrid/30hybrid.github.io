import{_ as M}from"./FormDropdown.vue.f8cb1d39.js";import{d as L,b as V,B as P,S as I,p as N,r as x,X as j,q as T,K as H,H as F,a7 as z,o as w,e as $,f as n,g as t,h as d,w as K,F as Y,t as C,P as B,E as R,aB as O,I as J,J as Q,aC as X,$ as Z,a0 as G,az as W,m as ee,au as te,u as se,c as le,D as ne,x as oe}from"./entry.b60e9b9d.js";import{_ as ae}from"./FormInput.c5989fdb.js";import{_ as ie}from"./SortByDropdown.vue.fd1804d0.js";import{_ as re}from"./TitleList.vue.59a6fc84.js";import"./BaseTitleFrame.4428127e.js";import"./BaseScore.vue.04013e0c.js";import"./nuxt-link.f791d10e.js";import"./ContentPop-v2.vue.4191226c.js";function de(m){let b,r=m[0],f=1;for(;f<m.length;){const a=m[f],v=m[f+1];if(f+=2,(a==="optionalAccess"||a==="optionalCall")&&r==null)return;a==="access"||a==="optionalAccess"?(b=r,r=v(r)):(a==="call"||a==="optionalCall")&&(r=v((...h)=>r.call(b,...h)),b=void 0)}return r}const q=m=>(Z("data-v-fd397cd6"),m=m(),G(),m),ue={class:"bg-bg-11 relative -my-2 mb-24 flex flex-col items-center justify-center gap-4 rounded-xl p-4"},ce={key:0,class:"search-options flex h-[9.375rem] flex-col gap-2"},me=W('<div class="row h-[4.125rem]" data-v-fd397cd6><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div></div><div class="row h-[4.125rem]" data-v-fd397cd6><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div></div>',2),pe=[me],fe={key:1,class:"search-options z-30 flex flex-col gap-2"},ge={class:"row"},be={class:"row"},ve={class:"row"},ye={class:"row"},he={class:"row mt-[1rem] justify-around"},_e=q(()=>n("p",{class:"font-bold"}," 3D ",-1)),xe={class:"flex items-center"},we=q(()=>n("p",{class:"font-bold"}," x265 ",-1)),Ce={class:"flex items-center"},$e={class:"font-bold"},Se={class:"flex items-center"},De={class:"row"},ke={class:"flex w-[12.5rem] items-center gap-2"},Ae={class:"border-fonts-300 text-fonts-50 input outline-fonts-[50] flex w-full translate-y-1 flex-row items-center justify-center gap-2 rounded-xl border-2 p-2 px-4 py-2 text-sm outline-offset-2 transition-colors"},Be={class:"flex items-center gap-2"},Re={class:"whitespace-nowrap text-xs"},qe={class:"whitespace-nowrap text-xs"},Oe=["placeholder"],Ee=q(()=>n("svg",{class:"fill-bg-11 w-[14rem]",viewBox:"0 0 38 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.5 3C27.6667 2 31.6 -2.79753e-07 38 0L30 -3.49691e-07L7.5 -1.3332e-06L0 -1.66103e-06C5.0511 -1.44024e-06 8.56663 1.41742 10.2483 2.46238C10.4687 2.62436 10.6892 2.77852 10.9099 2.92509C10.9415 2.95063 10.9715 2.97561 11 3L10.9219 2.9331C16.8223 6.84511 22.792 5.33316 26.7372 2.79671L26.5 3Z"})],-1)),Le={class:"absolute mb-4"},Ve=L({__name:"AdvancedSearchParams",emits:["submit"],setup(m,{emit:b}){const{t:r}=V(),f=P(),a=I(),v=N(),h=x(!1);j(h,l=>l===!0&&setTimeout(()=>de([document,"access",e=>e.querySelector,"call",e=>e('[aria-label="more options"]'),"optionalAccess",e=>e.classList,"access",e=>e.remove,"call",e=>e("overflow-hidden")]),500));const _=x(!0),c=x(),D={...a.query},i=l=>D[l];function o(l,e){const g=e==="ALL"||e[0]==="ALL"||e==="false";v.replace({query:{...a.query,[l]:g?void 0:e}})}const u=x({"3D":i("3D")==="true",x265:i("x265")==="true",stream:i("stream")==="true"});T(async()=>{const l=await H("SEARCH_PARAMETERS",()=>F.API.actions.advanced_search_parameters());if(l.error)return f(l.msg,"ERROR");if(!l.success||!l.result)return f(r("errorMessage"),"ERROR");c.value=l.result,_.value=!1,await z(),document.getElementById("min-year-input").value=i("min_year")||"",document.getElementById("max-year-input").value=i("max_year")||""});function S(){b("submit",a.query)}return(l,e)=>{const g=M,y=J,k=Q,p=ae,A=X,U=ie;return w(),$("div",null,[n("section",ue,[t(_)?(w(),$("div",ce,pe)):(w(),$("div",fe,[n("div",ge,[d(g,{title:l.$t("singleDetails.type"),list:t(c).type,"has-default-all":"",searchable:"","selected-option":i("type"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[0]||(e[0]=s=>o("type",s))},null,8,["title","list","selected-option"]),d(g,{title:l.$t("singleDetails.genre"),list:t(c).genre,"has-default-all":"",searchable:"","multi-selection":"","selected-option-array":t(a).query.genre?Array.isArray(t(a).query.genre)?t(a).query.genre:[t(a).query.genre]:void 0,style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[1]||(e[1]=s=>o("genre",s))},null,8,["title","list","selected-option-array"]),d(k,{class:"btn-primary-outline w-[12.5rem] translate-y-3",onClick:S},{default:K(()=>[d(y,{name:"ph:magnifying-glass-fill"}),Y(" "+C(l.$t("search")),1)]),_:1})]),n("div",be,[d(p,{"initial-value":i("actor"),label:l.$t("singleDetails.actor"),name:"actor",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[2]||(e[2]=s=>o("actor",s))},null,8,["initial-value","label"]),d(p,{"initial-value":i("director"),label:l.$t("singleDetails.director"),name:"director",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[3]||(e[3]=s=>o("director",s))},null,8,["initial-value","label"]),d(p,{"initial-value":i("writer"),label:l.$t("singleDetails.writer"),name:"writer",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[4]||(e[4]=s=>o("writer",s))},null,8,["initial-value","label"])]),n("section",{"aria-label":"more options",class:B(["flex max-h-0 transform-gpu flex-col gap-2 overflow-hidden pb-2 transition-all duration-500",{"max-h-[20rem] ":t(h)}])},[n("div",ve,[d(g,{title:l.$t("singleDetails.encoder"),list:t(c).encoder,"has-default-all":"",searchable:"","selected-option":i("encoder"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[5]||(e[5]=s=>o("encoder",s[0]))},null,8,["title","list","selected-option"]),d(g,{title:l.$t("singleDetails.quality"),list:t(c).quality,"has-default-all":"",searchable:"","selected-option":i("quality"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[6]||(e[6]=s=>o("quality",s[0]))},null,8,["title","list","selected-option"]),d(g,{title:l.$t("singleDetails.countries"),list:t(c).country,"has-default-all":"",searchable:"","selected-option":i("country"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[7]||(e[7]=s=>o("country",s[0]))},null,8,["title","list","selected-option"])]),n("div",ye,[d(g,{title:l.$t("singleDetails.primaryLanguage"),list:t(c).language,"has-default-all":"",searchable:"","selected-option":i("language"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[8]||(e[8]=s=>o("language",s[0]))},null,8,["title","list","selected-option"]),d(g,{title:l.$t("singleDetails.age"),list:t(c).age,"has-default-all":"",searchable:"","selected-option":i("age"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[9]||(e[9]=s=>o("age",s[0]))},null,8,["title","list","selected-option"]),d(g,{title:l.$t("singleDetails.score"),list:t(c).imdb_rate,"has-default-all":"",searchable:"","selected-option":i("imdb_rate"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[10]||(e[10]=s=>o("imdb_rate",s[0]))},null,8,["title","list","selected-option"])]),n("div",he,[n("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[14]||(e[14]=s=>{t(u)["3D"]=!t(u)["3D"],o("3D",t(u)["3D"].toString())})},[_e,n("div",xe,[d(A,{modelValue:t(u)["3D"],"onUpdate:modelValue":[e[11]||(e[11]=s=>t(u)["3D"]=s),e[12]||(e[12]=s=>o("3D",s))],onClick:e[13]||(e[13]=R(()=>{},["exact","stop"]))},null,8,["modelValue"])])]),n("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[18]||(e[18]=s=>{t(u).x265=!t(u).x265,o("x265",t(u).x265.toString())})},[we,n("div",Ce,[d(A,{modelValue:t(u).x265,"onUpdate:modelValue":[e[15]||(e[15]=s=>t(u).x265=s),e[16]||(e[16]=s=>o("x265",s))],onClick:e[17]||(e[17]=R(()=>{},["exact","stop"]))},null,8,["modelValue"])])]),n("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[22]||(e[22]=s=>{t(u).stream=!t(u).stream,o("stream",t(u).stream.toString())})},[n("p",$e,C(t(r)("streamOnly")),1),n("div",Se,[d(A,{modelValue:t(u).stream,"onUpdate:modelValue":[e[19]||(e[19]=s=>t(u).stream=s),e[20]||(e[20]=s=>o("stream",s))],onClick:e[21]||(e[21]=R(()=>{},["exact","stop"]))},null,8,["modelValue"])])])]),n("div",De,[d(g,{title:l.$t("singleDetails.network"),list:t(c).channel,"has-default-all":"",searchable:"","selected-option":i("channel"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[23]||(e[23]=s=>o("channel",s[0]))},null,8,["title","list","selected-option"]),d(U,{dimmed:""}),n("div",ke,[n("fieldset",Ae,[n("div",Be,[n("p",Re,C(l.$t("formYear")),1),n("input",{id:"min-year-input",dir:"auto",type:"text",class:"bg-bg-9 placeholder:text-fonts-300 flex w-[4em] rounded-lg py-1 text-center text-xs font-semibold",placeholder:"1890",maxlength:"4",onInput:e[24]||(e[24]=s=>(("useEnforcedNumbers"in l?l.useEnforcedNumbers:t(O)).bind(s.target)(),o("min_year",s.target.value)))},null,32),n("p",qe,C(l.$t("till")),1),n("input",{id:"max-year-input",dir:"auto",type:"text",class:"bg-bg-9 placeholder:text-fonts-300 flex w-[4em] rounded-lg py-1 text-center text-xs font-semibold",placeholder:new Date().getFullYear().toString(),maxlength:"4",onInput:e[25]||(e[25]=s=>(("useEnforcedNumbers"in l?l.useEnforcedNumbers:t(O)).bind(s.target)(),o("max_year",s.target.value)))},null,40,Oe)])])])])],2)])),n("span",{class:B(["group absolute left-1/2 top-full flex -translate-x-1/2 cursor-pointer items-center justify-center",{"pointer-events-none":t(_)}]),onClick:e[26]||(e[26]=s=>h.value=!t(h))},[Ee,n("div",Le,[d(y,{name:"ph:caret-down-bold",class:B(["fill-bg-11 text-2xl transition-transform will-change-transform group-hover:translate-y-[2px]",{"rotate-180 group-hover:!-translate-y-[2px]":t(h),"disable-block":t(_)}])},null,8,["class"])])],2)])])}}});const Pe=ee(Ve,[["__scopeId","data-v-fd397cd6"]]);function E(m){let b,r=m[0],f=1;for(;f<m.length;){const a=m[f],v=m[f+1];if(f+=2,(a==="optionalAccess"||a==="optionalCall")&&r==null)return;a==="access"||a==="optionalAccess"?(b=r,r=v(r)):(a==="call"||a==="optionalCall")&&(r=v((...h)=>r.call(b,...h)),b=void 0)}return r}const Ie={class:"flex"},Ne={key:0,class:"flex h-full w-full items-center justify-center"},je={class:"text-fonts-700 text-5xl font-bold"},He={key:1,class:"flex h-full w-full items-center justify-center"},Fe={class:"text-fonts-700 text-5xl font-bold"},Ze=L({__name:"advanced",setup(m){const{t:b}=V(),r=P(),f=te(),{infiniteScrolling:a}=se();le({title:()=>`${b("seo.30nama")} | ${b("seo.advancedSearch")}`});const v=I(),h=N(),_=x({}),c=x(!1),D=x(),i=x({}),o=x(Number(v.query.page||"1"));function u(e){_.value={},i.value=e,h.replace({query:{...v.query,page:void 0}}),o.value=1,S(1)}async function S(e){c.value=!0;const g=`ADVANCED_SEARCH::${Object.entries(i.value).toString()}::${e}`,y=await H(g,()=>F.API.actions.advanced_search(i.value,i.value.sortBy,"ASC",e));if(c.value=!1,!!y){if(y.error)return r(y.msg,"ERROR");_.value[e]=y.result.posts,D.value={pages:y.result.pages,page:y.result.page,total:y.result.total}}}function l(e){a.value&&S(e)}return j(()=>v.query.page,e=>{a.value||!e||(o.value=e?Number(e):1,S(o.value))}),ne(()=>{const{replaceLastRoute:e}=f;e(v.fullPath)}),(e,g)=>{const y=Pe,k=re;return w(),$("div",null,[d(y,{onSubmit:u}),n("section",Ie,[!E([t,"call",p=>p(_),"access",p=>p[t(o)],"optionalAccess",p=>p.length])&&!Object.keys(t(i)).length&&!t(c)?(w(),$("span",Ne,[n("h4",je,C(e.$t("searchNow")),1)])):!E([t,"call",p=>p(_),"access",p=>p[t(o)],"optionalAccess",p=>p.length])&&!t(c)?(w(),$("span",He,[n("h4",Fe,C(t(_)[t(o)]?e.$t("noResult"):e.$t("searchNow")),1)])):(w(),oe(k,{key:2,id:"title-list-result",title:e.$t("searchResults"),aligned:"",icon:"ph:magnifying-glass-fill",style:{background:"bg-bg-12",foreground:"bg-bg-11",shadowBack:"shadow-bg-12",shadowFore:"shadow-bg-11"},"is-loading":t(c),data:t(_),"result-info":t(D),onPageChanged:l},null,8,["title","is-loading","data","result-info"]))])])}}});export{Ze as default};
