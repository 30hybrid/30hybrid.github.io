import{_ as T}from"./BaseScore.vue.3876596f.js";import{d as L,Y as D,n as A,c as k,g as r,h as p,q as l,F as M,r as N,z as g,j as h,i as b,w as F,k as x,T as B,p as E,D as S,ai as U,at as $,x as V,B as v,y as m,A as H,aA as R,aB as q,G,H as O,I as P}from"./entry.7726ca09.js";function I(c){let d,a=c[0],n=1;for(;n<c.length;){const o=c[n],e=c[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&a==null)return;o==="access"||o==="optionalAccess"?(d=a,a=e(a)):(o==="call"||o==="optionalCall")&&(a=e((...u)=>a.call(d,...u)),d=void 0)}return a}const W={class:"flex w-[calc(100%)] h-[16.125rem] bg-bg-13/50 backdrop-blur-sm rounded-xl transition-all will-change-transform absolute z-[10000]"},Y={class:"w-full h-full flex-col items-center flex justify-around text-[1.7rem]"},J=["onClick"],K={class:"w-[1.25rem] h-[1.25rem] relative flex justify-center items-center"},Q={key:0,class:"flex items-center justify-center relative"},X=L({__name:"TitleFrameUserlist",props:{titleId:{},target:{}},setup(c){const d=c,a=D(),n=["favorite","watchlist","downloadlist","notify"],o=A(!1),e=k(()=>I([a,"access",s=>s.library,"optionalAccess",s=>s.favorite,"access",s=>s.post,"access",s=>s.includes,"call",s=>s(d.titleId)])),u=k(()=>I([a,"access",s=>s.library,"optionalAccess",s=>s.watchlist,"access",s=>s.post,"access",s=>s.includes,"call",s=>s(d.titleId)])),w=k(()=>I([a,"access",s=>s.library,"optionalAccess",s=>s.downloadlist,"access",s=>s.post,"access",s=>s.includes,"call",s=>s(d.titleId)])),_=k(()=>I([a,"access",s=>s.library,"optionalAccess",s=>s.notify,"access",s=>s.post,"access",s=>s.includes,"call",s=>s(d.titleId)]));async function z(s){o.value||(o.value=!0,i(s)?a.removeFromLibrary(d.titleId,s):a.addToLibrary(d.titleId,s),await E.API.actions.user_list_toggle(s,d.titleId),o.value=!1)}function t(s){switch(s){case"favorite":return e.value?"ph:heart-fill":"ph:heart";case"watchlist":return u.value?"ph:eye-fill":"ph:eye";case"downloadlist":return w.value?"ph:plus-circle-fill":"ph:plus-circle";case"notify":return _.value?"ph:bell-fill":"ph:bell"}}function i(s){switch(s){case"favorite":return e.value;case"watchlist":return u.value;case"downloadlist":return w.value;case"notify":return _.value}}return(s,ve)=>{const C=S;return r(),p("aside",W,[l("ul",Y,[(r(),p(M,null,N(n,f=>l("li",{key:f,class:g(["w-full py-2 flex items-center justify-center hover:bg-white/5 transition-colors",{"disable-block":h(o)}]),onClick:be=>z(f)},[l("span",K,[b(B,{name:"fade-preset"},{default:F(()=>[i(f)?(r(),p("span",Q,[b(C,{name:t(f),class:g(["transition-all bg-gradient-to-tl p-3 text-transparent bg-clip-text absolute will-change-transform active:scale-125 active:opacity-80 test bg-red-500",[{"from-rose-400 to-rose-700":f==="favorite"},{"from-emerald-400 to-emerald-700":f==="watchlist"},{"from-yellow-400 to-yellow-700":f==="notify"},{"from-sky-400 to-sky-700":f==="downloadlist"}]])},null,8,["name","class"]),l("span",{class:g(["absolute w-3 h-3 blur-md rounded-full bg-gradient-to-tl pointer-events-none",[{"from-rose-400 to-rose-700":f==="favorite"},{"from-emerald-400 to-emerald-700":f==="watchlist"},{"from-yellow-400 to-yellow-700":f==="notify"},{"from-sky-400 to-sky-700":f==="downloadlist"}]])},null,2)])):(r(),x(C,{key:1,name:t(f),class:"transition-all absolute p-3 will-change-transform active:scale-125 active:opacity-80"},null,8,["name"]))]),_:2},1024)])],10,J)),64))])])}}});function y(c){let d,a=c[0],n=1;for(;n<c.length;){const o=c[n],e=c[n+1];if(n+=2,(o==="optionalAccess"||o==="optionalCall")&&a==null)return;o==="access"||o==="optionalAccess"?(d=a,a=e(a)):(o==="call"||o==="optionalCall")&&(a=e((...u)=>a.call(d,...u)),d=void 0)}return a}const j=c=>(G("data-v-84640db0"),c=c(),O(),c),Z={key:0,class:"flex w-full flex-col gap-2"},ee=j(()=>l("div",{key:"sekleton-2",class:"flex w-full flex-col gap-2"},[l("div",{class:"flex",dir:"ltr"},[l("span",{class:"__skeleton-2 w-[100px] self-end rounded-full text-[1.4em] leading-5"},"Â ")]),l("div",{class:"flex flex-row flex-nowrap justify-between"},[l("span",{class:"__skeleton-2 w-[4.5em] rounded-md text-[1em]"}),l("span",{class:"__skeleton-2 rounded-md px-3 py-1 text-[1em] font-semibold"},[l("div",{class:"invisible opacity-0"},"0000")])])],-1)),se=["onMousedown"],te={class:"local-numbers number absolute -left-4 bottom-16 z-30 text-[14em]"},ae={class:"absolute left-2 top-2 flex flex-col gap-2"},le={class:"absolute bottom-2 right-2 flex flex-col gap-1"},oe={key:0,class:"text-secondary-500 bg-bg-13/50 rounded-full p-2 text-[1.6em] backdrop-blur-sm"},ne=j(()=>l("span",{class:"bg-primary-500 absolute inset-0 flex h-full w-full scale-50 rounded-full opacity-0 blur-[12px] transition-opacity group-hover/icon:opacity-100"},null,-1)),ie={class:"absolute bottom-[0.8rem] left-0 flex flex-col gap-2"},re={key:0,class:"bg-primary-500 rounded-r-lg p-1 px-2 text-xs"},ce={key:1,class:"bg-primary-500 rounded-r-lg p-1 px-2 text-xs"},de={dir:"ltr",class:"line-clamp-1 text-left text-[1.4em] leading-5"},ue={class:"flex w-full",dir:"ltr"},pe={class:"flex min-h-[1.5rem] items-center"},fe={key:0,class:"bg-bg-10/80 text-fonts-200 flex rounded-md px-3 py-1 text-[1em] font-semibold"},me={key:0,class:"flex flex-1 items-center justify-end gap-1"},he={dir:"auto"},ye={key:0,class:"text-primary-500 text-[1.4em] font-semibold"},ge=L({__name:"TitleFrame",props:{size:{},isLoading:{type:Boolean},data:{},number:{}},setup(c){const d=c,a=A(),n=A(!1);U(a,()=>n.value=!1);const o=k(()=>q.size.poster(d.size));return(e,u)=>{const w=T,_=S,z=X;return r(),p("section",{class:g(["group relative mx-4 mt-8 flex flex-col flex-nowrap items-center gap-2",[`w-poster-${e.size}`,{"text-xs":e.size==="medium"}]])},[e.isLoading?(r(),p("section",Z,[l("span",{key:"skeleton-1",class:g([[`w-poster-${e.size}`,`h-poster-${e.size}`],"__skeleton rounded-xl"])},null,2),ee])):e.data?(r(),p("section",{key:1,ref_key:"titleFrameMainEl",ref:a,class:"flex w-full cursor-pointer flex-col gap-2 relative",onContextmenu:u[4]||(u[4]=$(t=>n.value=!0,["prevent"]))},[l("div",{key:"poster",class:g([[`w-poster-${e.size}`,`h-poster-${e.size}`,{"group-hover:-translate-y-1":!h(n)}],"relative rounded-xl transition-transform duration-300 will-change-transform"]),onClick:u[2]||(u[2]=t=>e.$router.push({path:"/single/"+y([e,"access",i=>i.data,"optionalAccess",i=>i.id])}))},[l("span",{class:g(["absolute inset-0 overflow-hidden rounded-xl",[`w-poster-${e.size}`,`h-poster-${e.size}`]]),draggable:"false",onMousedown:$(t=>"",["prevent"])},[b(h(V),{ref:"img","style-suffix":"30nama-title-frame",src:e.data.image.poster.webp[e.size],punch:1,hash:e.data.image.poster.preview,class:"h-full w-full","res-x":4,"remove-canvas":"","res-y":6,duration:1e3,"height-size":h(o).height,"width-size":h(o).width},null,8,["src","hash","height-size","width-size"])],42,se),l("h4",te,v(e.number),1),l("ul",ae,[y([e,"access",t=>t.data,"access",t=>t.score,"optionalAccess",t=>t.myanimelist])?(r(),x(w,{key:0,type:"myanimelist",data:e.data.score.myanimelist,"no-votes":"",background:"bg-bg-13/50",class:"rounded-2xl text-[0.9em] backdrop-blur-sm"},null,8,["data"])):y([e,"access",t=>t.data,"access",t=>t.score,"optionalAccess",t=>t.imdb])&&y([e,"access",t=>t.data,"access",t=>t.score,"optionalAccess",t=>t.imdb,"access",t=>t.votes])?(r(),x(w,{key:1,type:"imdb",data:e.data.score.imdb,"no-votes":"",background:"bg-bg-13/50",class:"rounded-2xl text-[0.9em] backdrop-blur-sm"},null,8,["data"])):m("",!0),y([e,"access",t=>t.data,"access",t=>t.score,"optionalAccess",t=>t["30nama"]])?(r(),x(w,{key:2,type:"30nama",data:e.data.score["30nama"],"no-votes":"",background:"bg-bg-13/50",class:"rounded-2xl text-[0.9em] backdrop-blur-sm"},null,8,["data"])):m("",!0)]),h(n)?m("",!0):(r(),p("div",{key:0,class:"absolute z-10 top-2 right-2 bg-bg-13/50 backdrop-blur-sm text-base opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all hover:scale-90 will-change-transform p-2 rounded-full isolate",onClick:u[0]||(u[0]=$(t=>n.value=!h(n),["stop","prevent"]))},[b(_,{name:"ph:dots-three-outline-vertical-fill",class:"relative"})])),l("div",le,[e.data.options.exclusive_subtitle?(r(),p("span",oe,[b(_,{name:"ph:closed-captioning-fill"})])):m("",!0),e.data.options.stream?(r(),p("span",{key:1,class:"group/icon text-primary-500 bg-bg-13/50 hover:bg-bg-13/70 relative rounded-full p-2 text-[1.6em] backdrop-blur-sm transition-all",onClick:u[1]||(u[1]=$(t=>e.$router.push({path:`/play/${y([e,"access",i=>i.data,"optionalAccess",i=>i.id])}`,query:{free:y([e,"access",i=>i.data,"optionalAccess",i=>i.options,"access",i=>i.free_stream])?"true":void 0}}),["stop","prevent"]))},[ne,b(_,{name:"ph:play-fill",class:"relative"})])):m("",!0)]),l("div",ie,[e.data.options.free_stream?(r(),p("span",re,v(e.$t("watchFree")),1)):m("",!0),e.data.options.free_download?(r(),p("span",ce,v(e.$t("downloadFree")),1)):m("",!0)])],2),l("footer",{key:"footer",class:g(["flex w-full flex-col gap-2 transition-all duration-500 will-change-transform",{"group-hover:-translate-y-1":!h(n)}]),onClick:u[3]||(u[3]=t=>e.$router.push({path:"/single/"+y([e,"access",i=>i.data,"optionalAccess",i=>i.id])}))},[l("h6",de,v(e.data.title.english.split(" ").slice(0,-1).join(" ")),1),l("div",ue,[l("div",pe,[e.data.info.year?(r(),p("span",fe,v(e.data.info.year),1)):m("",!0)]),e.data.options.is_series?(r(),p("span",me,[l("div",he,[H(v(e.$t("season"))+" ",1),e.data.info.seasons?(r(),p("span",ye,v(e.data.info.seasons),1)):m("",!0)])])):m("",!0)])],2),b(B,{name:"user-list",appear:""},{default:F(()=>[h(n)?(r(),x(z,{key:0,ref:"userListEl","title-id":e.data.id,class:"top-0 duration-500",target:("toRef"in e?e.toRef:h(R))(h(a))},null,8,["title-id","target"])):m("",!0)]),_:1})],544)):m("",!0)],2)}}});const ke=P(ge,[["__scopeId","data-v-84640db0"]]);export{ke as _};
