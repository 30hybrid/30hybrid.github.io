import{d as we,m as $t,n as J,o as ct,f as no,g as D,h as T,p as He,q as p,s as Co,t as Ie,c as ao,v as lo,i as S,w as z,k as De,j as _,x as Ot,y as R,z as Q,A as Y,B as E,C as io,T as Io,_ as kt,D as dt,E as ut,G as Pt,H as Nt,I as Mt,J as so,K as Ao,L as To,M as $o,N as Oo,O as ko,P as Et,F as Dt,r as St,Q as Po,R as No,S as Mo,U as Fo}from"./entry.7726ca09.js";import{C as Xt,i as jt}from"./chartjs-plugin-gradient.esm.8a5c9a97.js";import{_ as Bo}from"./BaseCircularProgress.vue.925a68fb.js";function Me(n){let e,t=n[0],o=1;for(;o<n.length;){const a=n[o],l=n[o+1];if(o+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...i)=>t.call(e,...i)),e=void 0)}return t}const Lo={class:"relative"},Ho=p("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[p("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[p("canvas",{id:"acquisitions",class:"!w-full"})])],-1),zo=[Ho],Ro=we({__name:"DownloadManagerChart",setup(n,{expose:e}){const{disableAnimations:t}=$t(),o=J(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const l=f=>{const s=r[f.dataIndex];return`${He.core.bytesToSize(s)}/s`};ct(()=>{Xt.register(jt);const f={backgroundColor:`rgb(${o.value})`,borderColor:`rgb(${o.value})`,maintainAspectRatio:!1,animation:{duration:t.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:l}}},responsive:!0};a=new Xt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${o.value} / 0)`,100:`rgb(${o.value} / 0.3)`}}},pointBackgroundColor:`rgb(${o.value})`,fill:!0,label:"",data:[],tension:.4}]},options:f,plugins:[jt]})}),no(()=>Me([a,"optionalAccess",f=>f.destroy,"call",f=>f()]));const i=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),r=[];function u(){a&&a.data.datasets[0].data.length>=32&&(Me([a,"access",s=>s.data,"access",s=>s.labels,"optionalAccess",s=>s.shift,"call",s=>s()]),a.data.datasets[0].data.shift(),a.update()),r.length>=32&&r.shift()}function c(f){u(),Me([a,"optionalAccess",v=>v.data,"access",v=>v.labels,"access",v=>v.push,"call",v=>v(i())]),r.push(f);const s=Math.max(...r),g=Math.min(...r);a.data.datasets[0].data.push(Math.floor(He.core.ILerp(g,s,f,100)));for(let v=0;v<Me([a,"optionalAccess",h=>h.data,"access",h=>h.datasets,"access",h=>h[0],"access",h=>h.data,"access",h=>h.length]);v++){const h=Math.floor(He.core.ILerp(g,s,r[v],100));a.data.datasets[0].data[v]=h}Me([a,"optionalAccess",v=>v.update,"call",v=>v()])}return e({addRecord:c}),(f,s)=>(D(),T("div",Lo,zo))}});function $(n){let e,t=n[0],o=1;for(;o<n.length;){const a=n[o],l=n[o+1];if(o+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...i)=>t.call(e,...i)),e=void 0)}return t}const Te=n=>(Pt("data-v-53b86ea2"),n=n(),Nt(),n),Xo={"aria-label":"downloader",class:"relative flex items-center gap-8"},jo={class:"relative h-poster-medium w-poster-medium shrink-0 overflow-hidden rounded-xl bg-bg-10"},Yo={class:"relative flex w-full justify-between"},Wo={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},Go=Te(()=>p("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-10 from-20% to-bg-10/0"},null,-1)),Uo=["src"],Vo={class:"relative flex w-full flex-col"},qo={class:"absolute left-3 top-3 flex flex-col gap-2"},Zo={class:"flex items-center gap-2 text-xl font-bold tracking-wider text-fonts-300"},Ko={key:0,class:"line-clamp-1 text-sm font-bold tracking-wider text-fonts-300"},Qo={key:0,class:"font-bold tracking-wider text-fonts-300"},Jo={class:"mb-2 mt-16 h-full w-full"},en={class:"mb-1 p-4"},tn={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/20"},on={key:0,class:"progress-holder absolute h-full w-full bg-bg-1/30"},nn={class:"relative flex flex-col justify-between p-2 transition-opacity"},an={class:"flex flex-row items-center gap-2"},ln={class:"relative flex flex-col items-center"},sn={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},rn={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},cn=Te(()=>p("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),dn={class:"flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},un={class:"flex flex-col items-center"},fn={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},pn=Te(()=>p("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),hn={class:"flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},gn={class:"relative flex items-center justify-center"},mn={class:"local-numbers text-6xl font-bold"},vn=Te(()=>p("span",{class:"absolute h-16 w-16 translate-y-2 rounded-full bg-bg-1/20 blur-xl"},null,-1)),_n={class:"flex flex-col items-center"},bn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},wn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},yn=Te(()=>p("svg",{class:"absolute right-[20vw] top-full z-10 w-[3rem] fill-bg-10",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),xn=Te(()=>p("svg",{class:"absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem] fill-bg-10",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),En={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Dn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},Sn={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Cn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},In=we({__name:"DownloadManagerDownloader",setup(n){const e=Co(),{bytesToSize:t}=He.core,{scheduledDownloadables:o,unscheduledDownloadables:a,activeDownloadable:l,changeUpdater:i,downloadAction:r}=Ie(),{downloadSpeedLimit:u}=$t(),c=ao(()=>e.progress),f=J();lo(c,v=>{$([v,"optionalAccess",h=>h.status])==="active"&&$([f,"access",h=>h.value,"optionalAccess",h=>h.addRecord,"call",h=>h(v.downloadSpeed)])});async function s(){const v=$([e,"access",h=>h.progress,"optionalAccess",h=>h.status])==="active"?"pause":"unpause";await r(v),v==="pause"?(await i("stop"),c.value.downloadSpeed=0):i("start")}async function g(){await i("stop"),r("remove"),e.progress=void 0,$([l,"optionalAccess",y=>y.value])&&(l.value.downloading=!1),e.activeGID=void 0;const v=o.value[0],h=o.value.indexOf(v);o.value.splice(h,1),a.value.unshift(v)}return(v,h)=>{const y=kt,O=Ro,N=dt,C=ut;return D(),T("section",Xo,[S(y,{to:`/single/${$([_,"call",d=>d(l),"optionalAccess",d=>d.postId])}`,class:Q([{"pointer-events-none opacity-20 grayscale":!_(l)}])},{default:z(()=>[p("div",jo,[$([_,"call",d=>d(l),"optionalAccess",d=>d.image,"access",d=>d.poster,"access",d=>d.webp])?(D(),De(_(Ot),{key:0,src:$([_,"call",d=>d(l),"optionalAccess",d=>d.image,"access",d=>d.poster,"access",d=>d.webp]),punch:1,hash:$([_,"call",d=>d(l),"optionalAccess",d=>d.image,"access",d=>d.poster,"access",d=>d.preview]),class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":258,"width-size":172},null,8,["src","hash"])):R("",!0)])]),_:1},8,["to","class"]),p("div",Yo,[p("section",{"aria-label":"download info",class:Q(["ltr-dir relative flex h-poster-medium w-full justify-between rounded-2xl bg-bg-10 shadow-lg",[{"pointer-events-none opacity-20 grayscale":!_(l)}]])},[p("div",Wo,[Go,$([_,"call",d=>d(l),"optionalAccess",d=>d.image,"access",d=>d.cover])?(D(),T("img",{key:0,src:$([_,"call",d=>d(l),"optionalAccess",d=>d.image,"access",d=>d.cover]),class:"h-full w-full object-cover",alt:""},null,8,Uo)):R("",!0)]),p("div",Vo,[p("div",qo,[p("h5",Zo,[Y(E($([_,"call",d=>d(l),"optionalAccess",d=>d.title]))+" ",1),$([_,"call",d=>d(l),"optionalAccess",d=>d.episode])?(D(),T("p",Ko,E(`S${_(l).season}E${_(l).episode}`),1)):R("",!0)]),$([_,"call",d=>d(l),"optionalAccess",d=>d.size])?(D(),T("h5",Qo,E($([_,"call",d=>d(l),"optionalAccess",d=>d.size])),1)):R("",!0)]),p("div",Jo,[S(O,{ref_key:"chart",ref:f,class:"h-full w-full"},null,512)]),p("div",en,[p("span",tn,[S(Io,{name:"fade-preset",mode:"out-in"},{default:z(()=>[$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="preparing"?(D(),T("span",on)):(D(),T("span",{key:1,class:"absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500/80",style:io(`transform: scaleX(${($([_,"call",d=>d(c),"optionalAccess",d=>d.percent])||0)/100})`)},null,4))]),_:1})])])]),p("div",nn,[p("div",{class:Q({" opacity-50":$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="preparing"})},[p("ul",an,[p("li",ln,[p("span",sn,[S(N,{name:"ph:gauge-fill",class:"text-2xl text-fonts-100"}),S(C,{placement:"top"},{default:z(()=>[Y(E(v.$t("downloadSpeed")),1)]),_:1})]),_(u)?(D(),T("span",rn,[S(C,{placement:"top"},{default:z(()=>[Y(E(v.$t("speedLimiterIsActive")),1)]),_:1})])):R("",!0),cn,p("p",dn,E(_(t)($([_,"call",d=>d(c),"optionalAccess",d=>d.downloadSpeed])||0))+"/s ",1)]),p("li",un,[p("span",fn,[S(N,{name:"ph:download-fill",class:"text-2xl text-fonts-100"}),S(C,{placement:"top"},{default:z(()=>[Y(E(v.$t("size")),1)]),_:1})]),pn,p("p",hn,E(_(t)($([_,"call",d=>d(c),"optionalAccess",d=>d.completedLength])||0)),1)])])],2),p("div",{class:Q(["flex flex-col items-center",{" opacity-50":$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="preparing"}])},[p("div",gn,[p("h4",mn,E($([_,"call",d=>d(c),"optionalAccess",d=>d.percent])||0)+"%",1),vn])],2),p("div",_n,[p("ul",{class:Q(["flex gap-3",[{disabled:!_(l)},{invisible:!_(l)}]])},[p("li",{class:Q([{"pointer-events-none":!_(c)||_(c).status==="preparing"},{" opacity-50":$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="preparing"}]),onClick:h[0]||(h[0]=d=>s())},[p("div",bn,[$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="active"?(D(),De(N,{key:0,name:"ph:pause-fill",class:"text-md text-fonts-100"})):$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="paused"?(D(),De(N,{key:1,name:"ph:play-fill",class:"text-md text-fonts-100"})):(D(),De(N,{key:2,name:"ph:pause-fill",class:"text-md text-fonts-100"})),S(C,{placement:"top"},{default:z(()=>[Y(E($([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="active"?v.$t("pauseDownload"):v.$t("resumeDownload")),1)]),_:1})])],2),p("li",{onClick:g},[p("div",wn,[S(N,{name:"ph:x-bold",class:"text-md text-fonts-100"}),S(C,{placement:"top"},{default:z(()=>[Y(E(v.$t("cancel")),1)]),_:1})])])],2)])]),yn,xn],2),_(l)?R("",!0):(D(),T("span",En,[p("h4",Dn,E(v.$t("youHaveNoActiveDownload")),1)])),$([_,"call",d=>d(c),"optionalAccess",d=>d.status])==="preparing"?(D(),T("span",Sn,[p("h4",Cn,E(v.$t("preparingDownload")),1)])):R("",!0)])])}}});const An=Mt(In,[["__scopeId","data-v-53b86ea2"]]),Ft=n=>(Pt("data-v-349c6a86"),n=n(),Nt(),n),Tn={key:0,class:"flex items-center gap-8 w-full h-full"},$n={class:"h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg bg-bg-8"},On={class:"relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl bg-bg-11"},kn={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},Pn=Ft(()=>p("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-11 from-20% to-bg-11/0"},null,-1)),Nn=["src"],Mn={class:"drag-target h-full w-full p-4"},Fn={class:"relative flex flex-col"},Bn={key:0,class:"ltr-dir line-clamp-1 text-base font-bold text-fonts-300"},Ln={class:"ltr-dir line-clamp-1 text-left text-base font-bold text-fonts-300"},Hn={class:"ltr-dir text-base font-semibold"},zn={key:0},Rn=Ft(()=>p("span",{class:"text-fonts-300"}," / ",-1)),Xn={class:"text-fonts-300"},jn=Ft(()=>p("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[p("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),p("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),p("span",{class:"h-1 w-6 rounded-full bg-bg-9"})],-1)),Yn={class:"flex p-4"},Wn={class:"absolute bottom-full right-0 flex items-center gap-2"},Gn={class:"local-numbers"},Un={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/10"},Vn={class:"flex items-center gap-2"},qn=we({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(n,{expose:e}){const t=n,{scheduledDownloadables:o,unscheduledDownloadables:a}=Ie(),{optimizedDownloadlist:l}=$t(),i=so();function r(){o&&(o.value=o.value.filter(h=>h.id!==t.data.id)),a&&(a.value=a.value.filter(h=>h.id!==t.data.id))}function u(){if(!o||!a)return;const h=a.value.find(O=>O.id===t.data.id),y=o.value.find(O=>O.id===t.data.id);h?(o.value=[h,...o.value],a.value=a.value.filter(O=>O.id!==t.data.id),h.id=new Date().getTime()):y&&(o.value=o.value.filter(O=>O.id!==t.data.id),o.value=[y,...o.value],y.id=new Date().getTime())}const c=J(!1),f=J();let s;ct(()=>{l.value&&(s=new IntersectionObserver(h=>{const y=h[0];c.value=y.isIntersecting},{threshold:0}),f.value&&s.observe(f.value))});function g(){l.value&&setTimeout(()=>{f.value&&s.observe(f.value)},300)}function v(){l.value&&(f.value&&s.unobserve(f.value),c.value=!0)}return e({observeItem:g,removeObserveItem:v}),(h,y)=>{const O=kt,N=dt,C=ut;return D(),T("section",{ref_key:"downloadItem",ref:f,"aria-label":"download item",class:"flex flex-col w-full items-center gap-8 h-[9rem]"},[!_(l)||_(c)?(D(),T("div",Tn,[S(O,{to:`/single/${h.data.postId}`},{default:z(()=>[p("div",$n,[S(_(Ot),{src:h.data.image.poster.webp,punch:1,hash:h.data.image.poster.preview,class:"h-full","res-x":5,"res-y":5,"remove-canvas":"",duration:1e3,"height-size":135,"width-size":90},null,8,["src","hash"])])]),_:1},8,["to"]),p("div",On,[p("div",kn,[Pn,h.data.image.cover?(D(),T("img",{key:0,src:h.data.image.cover,class:"h-full w-full object-cover",loading:"lazy",alt:""},null,8,Nn)):R("",!0)]),p("span",Mn,[p("div",Fn,[p("h6",{class:Q(["ltr-dir line-clamp-1 break-all",h.data.title.length>25?"text-lg":"text-xl"])},E(h.data.title),3),h.data.season!==void 0&&h.data.episode!==void 0?(D(),T("p",Bn,"S"+E(h.data.season)+"E"+E(h.data.episode),1)):R("",!0),p("p",Ln,E(h.data.quality),1),p("p",Hn,[h.data.progress?(D(),T("span",zn,[Y(E(h.data.progress.downloaded)+" ",1),Rn])):R("",!0),p("span",Xn,E(h.data.size),1)])]),jn]),p("div",Yn,[p("ul",{class:Q(["flex items-center gap-2",{"drag-target":!h.data.error}])},[p("li",{class:Q(["flex cursor-pointer items-center justify-center rounded-full p-2 transition-all hover:bg-bg-9",{invisible:!h.data.error}]),onClick:y[0]||(y[0]=d=>_(i).toggleMessage(!0,h.data.error,"code"))},[S(N,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),S(C,{placement:"top"},{default:z(()=>[Y(E(h.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),h.data.progress?(D(),T("li",{key:0,class:"progress relative mx-4 w-48",onClick:y[1]||(y[1]=d=>_(i).toggleMessage(!0))},[p("div",Wn,[p("span",Gn,E(h.data.progress.percent)+"%",1)]),p("span",Un,[p("span",{class:"full absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500",style:io(`transform: scaleX(${h.data.progress.percent/100})`)},null,4)])])):R("",!0)],2),p("ul",Vn,[p("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:r},[S(N,{name:"ph:trash-fill",class:"text-xl text-fonts-100"}),S(C,{placement:"top"},{default:z(()=>[Y(E(h.$t("deleteFromList")),1)]),_:1})]),p("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:u},[S(N,{name:"ph:download-simple-fill",class:"text-xl text-fonts-100"}),S(C,{placement:"top"},{default:z(()=>[Y(E(h.$t("downloadNow")),1)]),_:1})])])])])])):R("",!0)],512)}}});const Yt=Mt(qn,[["__scopeId","data-v-349c6a86"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Wt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,o)}return t}function ae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wt(Object(t),!0).forEach(function(o){Zn(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function Qe(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(e){return typeof e}:Qe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(n)}function Zn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function se(){return se=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},se.apply(this,arguments)}function Kn(n,e){if(n==null)return{};var t={},o=Object.keys(n),a,l;for(l=0;l<o.length;l++)a=o[l],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function Qn(n,e){if(n==null)return{};var t=Kn(n,e),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)o=l[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(t[o]=n[o])}return t}var Jn="1.15.0";function ie(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var re=ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),We=ie(/Edge/i),Gt=ie(/firefox/i),ze=ie(/safari/i)&&!ie(/chrome/i)&&!ie(/android/i),ro=ie(/iP(ad|od|hone)/i),co=ie(/chrome/i)&&ie(/android/i),uo={capture:!1,passive:!1};function A(n,e,t){n.addEventListener(e,t,!re&&uo)}function I(n,e,t){n.removeEventListener(e,t,!re&&uo)}function nt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function ea(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function oe(n,e,t,o){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&nt(n,e):nt(n,e))||o&&n===t)return n;if(n===t)break}while(n=ea(n))}return null}var Ut=/\s+/g;function U(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var o=(" "+n.className+" ").replace(Ut," ").replace(" "+e+" "," ");n.className=(o+(t?" "+e:"")).replace(Ut," ")}}function b(n,e,t){var o=n&&n.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Ce(n,e){var t="";if(typeof n=="string")t=n;else do{var o=b(n,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function fo(n,e,t){if(n){var o=n.getElementsByTagName(e),a=0,l=o.length;if(t)for(;a<l;a++)t(o[a],a);return o}return[]}function ne(){var n=document.scrollingElement;return n||document.documentElement}function B(n,e,t,o,a){if(!(!n.getBoundingClientRect&&n!==window)){var l,i,r,u,c,f,s;if(n!==window&&n.parentNode&&n!==ne()?(l=n.getBoundingClientRect(),i=l.top,r=l.left,u=l.bottom,c=l.right,f=l.height,s=l.width):(i=0,r=0,u=window.innerHeight,c=window.innerWidth,f=window.innerHeight,s=window.innerWidth),(e||t)&&n!==window&&(a=a||n.parentNode,!re))do if(a&&a.getBoundingClientRect&&(b(a,"transform")!=="none"||t&&b(a,"position")!=="static")){var g=a.getBoundingClientRect();i-=g.top+parseInt(b(a,"border-top-width")),r-=g.left+parseInt(b(a,"border-left-width")),u=i+l.height,c=r+l.width;break}while(a=a.parentNode);if(o&&n!==window){var v=Ce(a||n),h=v&&v.a,y=v&&v.d;v&&(i/=y,r/=h,s/=h,f/=y,u=i+f,c=r+s)}return{top:i,left:r,bottom:u,right:c,width:s,height:f}}}function Vt(n,e,t){for(var o=pe(n,!0),a=B(n)[e];o;){var l=B(o)[t],i=void 0;if(t==="top"||t==="left"?i=a>=l:i=a<=l,!i)return o;if(o===ne())break;o=pe(o,!1)}return!1}function Ae(n,e,t,o){for(var a=0,l=0,i=n.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==w.ghost&&(o||i[l]!==w.dragged)&&oe(i[l],t.draggable,n,!1)){if(a===e)return i[l];a++}l++}return null}function Bt(n,e){for(var t=n.lastElementChild;t&&(t===w.ghost||b(t,"display")==="none"||e&&!nt(t,e));)t=t.previousElementSibling;return t||null}function Z(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==w.clone&&(!e||nt(n,e))&&t++;return t}function qt(n){var e=0,t=0,o=ne();if(n)do{var a=Ce(n),l=a.a,i=a.d;e+=n.scrollLeft*l,t+=n.scrollTop*i}while(n!==o&&(n=n.parentNode));return[e,t]}function ta(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===n[t][o])return Number(t)}return-1}function pe(n,e){if(!n||!n.getBoundingClientRect)return ne();var t=n,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=b(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ne();if(o||e)return t;o=!0}}while(t=t.parentNode);return ne()}function oa(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function pt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Re;function po(n,e){return function(){if(!Re){var t=arguments,o=this;t.length===1?n.call(o,t[0]):n.apply(o,t),Re=setTimeout(function(){Re=void 0},e)}}}function na(){clearTimeout(Re),Re=void 0}function ho(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function go(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var q="Sortable"+new Date().getTime();function aa(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(b(a,"display")==="none"||a===w.ghost)){n.push({target:a,rect:B(a)});var l=ae({},n[n.length-1].rect);if(a.thisAnimationDuration){var i=Ce(a,!0);i&&(l.top-=i.f,l.left-=i.e)}a.fromRect=l}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(ta(n,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var l=!1,i=0;n.forEach(function(r){var u=0,c=r.target,f=c.fromRect,s=B(c),g=c.prevFromRect,v=c.prevToRect,h=r.rect,y=Ce(c,!0);y&&(s.top-=y.f,s.left-=y.e),c.toRect=s,c.thisAnimationDuration&&pt(g,s)&&!pt(f,s)&&(h.top-s.top)/(h.left-s.left)===(f.top-s.top)/(f.left-s.left)&&(u=ia(h,g,v,a.options)),pt(s,f)||(c.prevFromRect=f,c.prevToRect=s,u||(u=a.options.animation),a.animate(c,h,s,u)),u&&(l=!0,i=Math.max(i,u),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},u),c.thisAnimationDuration=u)}),clearTimeout(e),l?e=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),n=[]},animate:function(o,a,l,i){if(i){b(o,"transition",""),b(o,"transform","");var r=Ce(this.el),u=r&&r.a,c=r&&r.d,f=(a.left-l.left)/(u||1),s=(a.top-l.top)/(c||1);o.animatingX=!!f,o.animatingY=!!s,b(o,"transform","translate3d("+f+"px,"+s+"px,0)"),this.forRepaintDummy=la(o),b(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),b(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){b(o,"transition",""),b(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function la(n){return n.offsetWidth}function ia(n,e,t,o){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var ye=[],ht={initializeByDefault:!0},Ge={mount:function(e){for(var t in ht)ht.hasOwnProperty(t)&&!(t in e)&&(e[t]=ht[t]);ye.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ye.push(e)},pluginEvent:function(e,t,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var l=e+"Global";ye.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][l]&&t[i.pluginName][l](ae({sortable:t},o)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](ae({sortable:t},o)))})},initializePlugins:function(e,t,o,a){ye.forEach(function(r){var u=r.pluginName;if(!(!e.options[u]&&!r.initializeByDefault)){var c=new r(e,t,e.options);c.sortable=e,c.options=e.options,e[u]=c,se(o,c.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var i=this.modifyOption(e,l,e.options[l]);typeof i<"u"&&(e.options[l]=i)}},getEventProperties:function(e,t){var o={};return ye.forEach(function(a){typeof a.eventProperties=="function"&&se(o,a.eventProperties.call(t[a.pluginName],e))}),o},modifyOption:function(e,t,o){var a;return ye.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[t]=="function"&&(a=l.optionListeners[t].call(e[l.pluginName],o))}),a}};function sa(n){var e=n.sortable,t=n.rootEl,o=n.name,a=n.targetEl,l=n.cloneEl,i=n.toEl,r=n.fromEl,u=n.oldIndex,c=n.newIndex,f=n.oldDraggableIndex,s=n.newDraggableIndex,g=n.originalEvent,v=n.putSortable,h=n.extraEventProperties;if(e=e||t&&t[q],!!e){var y,O=e.options,N="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!re&&!We?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=i||t,y.from=r||t,y.item=a||t,y.clone=l,y.oldIndex=u,y.newIndex=c,y.oldDraggableIndex=f,y.newDraggableIndex=s,y.originalEvent=g,y.pullMode=v?v.lastPutMode:void 0;var C=ae(ae({},h),Ge.getEventProperties(o,e));for(var d in C)y[d]=C[d];t&&t.dispatchEvent(y),O[N]&&O[N].call(e,y)}}var ra=["evt"],j=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,l=Qn(o,ra);Ge.pluginEvent.bind(w)(e,t,ae({dragEl:m,parentEl:M,ghostEl:x,rootEl:k,nextEl:be,lastDownEl:Je,cloneEl:P,cloneHidden:fe,dragStarted:Fe,putSortable:L,activeSortable:w.active,originalEvent:a,oldIndex:Se,oldDraggableIndex:Xe,newIndex:V,newDraggableIndex:ue,hideGhostForTarget:bo,unhideGhostForTarget:wo,cloneNowHidden:function(){fe=!0},cloneNowShown:function(){fe=!1},dispatchSortableEvent:function(r){X({sortable:t,name:r,originalEvent:a})}},l))};function X(n){sa(ae({putSortable:L,cloneEl:P,targetEl:m,rootEl:k,oldIndex:Se,oldDraggableIndex:Xe,newIndex:V,newDraggableIndex:ue},n))}var m,M,x,k,be,Je,P,fe,Se,V,Xe,ue,Ve,L,Ee=!1,at=!1,lt=[],ve,K,gt,mt,Zt,Kt,Fe,xe,je,Ye=!1,qe=!1,et,H,vt=[],Ct=!1,it=[],ft=typeof document<"u",Ze=ro,Qt=We||re?"cssFloat":"float",ca=ft&&!co&&!ro&&"draggable"in document.createElement("div"),mo=function(){if(ft){if(re)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),vo=function(e,t){var o=b(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=Ae(e,0,t),i=Ae(e,1,t),r=l&&b(l),u=i&&b(i),c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+B(l).width,f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+B(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var s=r.float==="left"?"left":"right";return i&&(u.clear==="both"||u.clear===s)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||c>=a&&o[Qt]==="none"||i&&o[Qt]==="none"&&c+f>a)?"vertical":"horizontal"},da=function(e,t,o){var a=o?e.left:e.top,l=o?e.right:e.bottom,i=o?e.width:e.height,r=o?t.left:t.top,u=o?t.right:t.bottom,c=o?t.width:t.height;return a===r||l===u||a+i/2===r+c/2},ua=function(e,t){var o;return lt.some(function(a){var l=a[q].options.emptyInsertThreshold;if(!(!l||Bt(a))){var i=B(a),r=e>=i.left-l&&e<=i.right+l,u=t>=i.top-l&&t<=i.bottom+l;if(r&&u)return o=a}}),o},_o=function(e){function t(l,i){return function(r,u,c,f){var s=r.options.group.name&&u.options.group.name&&r.options.group.name===u.options.group.name;if(l==null&&(i||s))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return t(l(r,u,c,f),i)(r,u,c,f);var g=(i?r:u).options.group.name;return l===!0||typeof l=="string"&&l===g||l.join&&l.indexOf(g)>-1}}var o={},a=e.group;(!a||Qe(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=t(a.pull,!0),o.checkPut=t(a.put),o.revertClone=a.revertClone,e.group=o},bo=function(){!mo&&x&&b(x,"display","none")},wo=function(){!mo&&x&&b(x,"display","")};ft&&!co&&document.addEventListener("click",function(n){if(at)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),at=!1,!1},!0);var _e=function(e){if(m){e=e.touches?e.touches[0]:e;var t=ua(e.clientX,e.clientY);if(t){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[q]._onDragOver(o)}}},fa=function(e){m&&m.parentNode[q]._isOutsideThisEl(e.target)};function w(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=se({},e),n[q]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vo(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!ze,emptyInsertThreshold:5};Ge.initializePlugins(this,n,t);for(var o in t)!(o in e)&&(e[o]=t[o]);_o(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ca,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?A(n,"pointerdown",this._onTapStart):(A(n,"mousedown",this._onTapStart),A(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(n,"dragover",this),A(n,"dragenter",this)),lt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),se(this,aa())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(xe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,m):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,a=this.options,l=a.preventOnFilter,i=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(r||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,f=a.filter;if(wa(o),!m&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ze&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=oe(u,a.draggable,o,!1),!(u&&u.animated)&&Je!==u)){if(Se=Z(u),Xe=Z(u,a.draggable),typeof f=="function"){if(f.call(this,e,u,this)){X({sortable:t,rootEl:c,name:"filter",targetEl:u,toEl:o,fromEl:o}),j("filter",t,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(s){if(s=oe(c,s.trim(),o,!1),s)return X({sortable:t,rootEl:s,name:"filter",targetEl:u,fromEl:o,toEl:o}),j("filter",t,{evt:e}),!0}),f)){l&&e.cancelable&&e.preventDefault();return}a.handle&&!oe(c,a.handle,o,!1)||this._prepareDragStart(e,r,u)}}},_prepareDragStart:function(e,t,o){var a=this,l=a.el,i=a.options,r=l.ownerDocument,u;if(o&&!m&&o.parentNode===l){var c=B(o);if(k=l,m=o,M=m.parentNode,be=m.nextSibling,Je=o,Ve=i.group,w.dragged=m,ve={target:m,clientX:(t||e).clientX,clientY:(t||e).clientY},Zt=ve.clientX-c.left,Kt=ve.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,m.style["will-change"]="all",u=function(){if(j("delayEnded",a,{evt:e}),w.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Gt&&a.nativeDraggable&&(m.draggable=!0),a._triggerDragStart(e,t),X({sortable:a,name:"choose",originalEvent:e}),U(m,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){fo(m,f.trim(),_t)}),A(r,"dragover",_e),A(r,"mousemove",_e),A(r,"touchmove",_e),A(r,"mouseup",a._onDrop),A(r,"touchend",a._onDrop),A(r,"touchcancel",a._onDrop),Gt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),j("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(We||re))){if(w.eventCanceled){this._onDrop();return}A(r,"mouseup",a._disableDelayedDrag),A(r,"touchend",a._disableDelayedDrag),A(r,"touchcancel",a._disableDelayedDrag),A(r,"mousemove",a._delayedDragTouchMoveHandler),A(r,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&A(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,i.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&_t(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):t?A(document,"touchmove",this._onTouchMove):A(document,"mousemove",this._onTouchMove):(A(m,"dragend",this),A(k,"dragstart",this._onDragStart));try{document.selection?tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ee=!1,k&&m){j("dragStarted",this,{evt:t}),this.nativeDraggable&&A(document,"dragover",fa);var o=this.options;!e&&U(m,o.dragClass,!1),U(m,o.ghostClass,!0),w.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(K){this._lastX=K.clientX,this._lastY=K.clientY,bo();for(var e=document.elementFromPoint(K.clientX,K.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(K.clientX,K.clientY),e!==t);)t=e;if(m.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]){var o=void 0;if(o=t[q]._onDragOver({clientX:K.clientX,clientY:K.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);wo()}},_onTouchMove:function(e){if(ve){var t=this.options,o=t.fallbackTolerance,a=t.fallbackOffset,l=e.touches?e.touches[0]:e,i=x&&Ce(x,!0),r=x&&i&&i.a,u=x&&i&&i.d,c=Ze&&H&&qt(H),f=(l.clientX-ve.clientX+a.x)/(r||1)+(c?c[0]-vt[0]:0)/(r||1),s=(l.clientY-ve.clientY+a.y)/(u||1)+(c?c[1]-vt[1]:0)/(u||1);if(!w.active&&!Ee){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(x){i?(i.e+=f-(gt||0),i.f+=s-(mt||0)):i={a:1,b:0,c:0,d:1,e:f,f:s};var g="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");b(x,"webkitTransform",g),b(x,"mozTransform",g),b(x,"msTransform",g),b(x,"transform",g),gt=f,mt=s,K=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!x){var e=this.options.fallbackOnBody?document.body:k,t=B(m,!0,Ze,!0,e),o=this.options;if(Ze){for(H=e;b(H,"position")==="static"&&b(H,"transform")==="none"&&H!==document;)H=H.parentNode;H!==document.body&&H!==document.documentElement?(H===document&&(H=ne()),t.top+=H.scrollTop,t.left+=H.scrollLeft):H=ne(),vt=qt(H)}x=m.cloneNode(!0),U(x,o.ghostClass,!1),U(x,o.fallbackClass,!0),U(x,o.dragClass,!0),b(x,"transition",""),b(x,"transform",""),b(x,"box-sizing","border-box"),b(x,"margin",0),b(x,"top",t.top),b(x,"left",t.left),b(x,"width",t.width),b(x,"height",t.height),b(x,"opacity","0.8"),b(x,"position",Ze?"absolute":"fixed"),b(x,"zIndex","100000"),b(x,"pointerEvents","none"),w.ghost=x,e.appendChild(x),b(x,"transform-origin",Zt/parseInt(x.style.width)*100+"% "+Kt/parseInt(x.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,a=e.dataTransfer,l=o.options;if(j("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}j("setupClone",this),w.eventCanceled||(P=go(m),P.removeAttribute("id"),P.draggable=!1,P.style["will-change"]="",this._hideClone(),U(P,this.options.chosenClass,!1),w.clone=P),o.cloneId=tt(function(){j("clone",o),!w.eventCanceled&&(o.options.removeCloneOnHide||k.insertBefore(P,m),o._hideClone(),X({sortable:o,name:"clone"}))}),!t&&U(m,l.dragClass,!0),t?(at=!0,o._loopId=setInterval(o._emulateDragOver,50)):(I(document,"mouseup",o._onDrop),I(document,"touchend",o._onDrop),I(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(o,a,m)),A(document,"drop",o),b(m,"transform","translateZ(0)")),Ee=!0,o._dragStartId=tt(o._dragStarted.bind(o,t,e)),A(document,"selectstart",o),Fe=!0,ze&&b(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,a,l,i,r=this.options,u=r.group,c=w.active,f=Ve===u,s=r.sort,g=L||c,v,h=this,y=!1;if(Ct)return;function O(Ne,Do){j(Ne,h,ae({evt:e,isOwner:f,axis:v?"vertical":"horizontal",revert:i,dragRect:a,targetRect:l,canSort:s,fromSortable:g,target:o,completed:C,onMove:function(Rt,So){return Ke(k,t,m,a,Rt,B(Rt),e,So)},changed:d},Do))}function N(){O("dragOverAnimationCapture"),h.captureAnimationState(),h!==g&&g.captureAnimationState()}function C(Ne){return O("dragOverCompleted",{insertion:Ne}),Ne&&(f?c._hideClone():c._showClone(h),h!==g&&(U(m,L?L.options.ghostClass:c.options.ghostClass,!1),U(m,r.ghostClass,!0)),L!==h&&h!==w.active?L=h:h===w.active&&L&&(L=null),g===h&&(h._ignoreWhileAnimating=o),h.animateAll(function(){O("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(o===m&&!m.animated||o===t&&!o.animated)&&(xe=null),!r.dragoverBubble&&!e.rootEl&&o!==document&&(m.parentNode[q]._isOutsideThisEl(e.target),!Ne&&_e(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function d(){V=Z(m),ue=Z(m,r.draggable),X({sortable:h,name:"change",toEl:t,newIndex:V,newDraggableIndex:ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=oe(o,r.draggable,t,!0),O("dragOver"),w.eventCanceled)return y;if(m.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||h._ignoreWhileAnimating===o)return C(!1);if(at=!1,c&&!r.disabled&&(f?s||(i=M!==k):L===this||(this.lastPutMode=Ve.checkPull(this,c,m,e))&&u.checkPut(this,c,m,e))){if(v=this._getDirection(e,o)==="vertical",a=B(m),O("dragOverValid"),w.eventCanceled)return y;if(i)return M=k,N(),this._hideClone(),O("revert"),w.eventCanceled||(be?k.insertBefore(m,be):k.appendChild(m)),C(!0);var W=Bt(t,r.draggable);if(!W||ma(e,v,this)&&!W.animated){if(W===m)return C(!1);if(W&&t===e.target&&(o=W),o&&(l=B(o)),Ke(k,t,m,a,o,l,e,!!o)!==!1)return N(),W&&W.nextSibling?t.insertBefore(m,W.nextSibling):t.appendChild(m),M=t,d(),C(!0)}else if(W&&ga(e,v,this)){var he=Ae(t,0,r,!0);if(he===m)return C(!1);if(o=he,l=B(o),Ke(k,t,m,a,o,l,e,!1)!==!1)return N(),t.insertBefore(m,he),M=t,d(),C(!0)}else if(o.parentNode===t){l=B(o);var ee=0,ge,$e=m.parentNode!==t,G=!da(m.animated&&m.toRect||a,o.animated&&o.toRect||l,v),Oe=v?"top":"left",ce=Vt(o,"top","top")||Vt(m,"top","top"),ke=ce?ce.scrollTop:void 0;xe!==o&&(ge=l[Oe],Ye=!1,qe=!G&&r.invertSwap||$e),ee=va(e,o,l,v,G?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,qe,xe===o);var le;if(ee!==0){var me=Z(m);do me-=ee,le=M.children[me];while(le&&(b(le,"display")==="none"||le===x))}if(ee===0||le===o)return C(!1);xe=o,je=ee;var Pe=o.nextElementSibling,de=!1;de=ee===1;var Ue=Ke(k,t,m,a,o,l,e,de);if(Ue!==!1)return(Ue===1||Ue===-1)&&(de=Ue===1),Ct=!0,setTimeout(ha,30),N(),de&&!Pe?t.appendChild(m):o.parentNode.insertBefore(m,de?Pe:o),ce&&ho(ce,0,ke-ce.scrollTop),M=m.parentNode,ge!==void 0&&!qe&&(et=Math.abs(ge-B(o)[Oe])),d(),C(!0)}if(t.contains(m))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",_e),I(document,"mousemove",_e),I(document,"touchmove",_e)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(V=Z(m),ue=Z(m,o.draggable),j("drop",this,{evt:e}),M=m&&m.parentNode,V=Z(m),ue=Z(m,o.draggable),w.eventCanceled){this._nulling();return}Ee=!1,qe=!1,Ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),It(this.cloneId),It(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ze&&b(document.body,"user-select",""),b(m,"transform",""),e&&(Fe&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),x&&x.parentNode&&x.parentNode.removeChild(x),(k===M||L&&L.lastPutMode!=="clone")&&P&&P.parentNode&&P.parentNode.removeChild(P),m&&(this.nativeDraggable&&I(m,"dragend",this),_t(m),m.style["will-change"]="",Fe&&!Ee&&U(m,L?L.options.ghostClass:this.options.ghostClass,!1),U(m,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:M,newIndex:null,newDraggableIndex:null,originalEvent:e}),k!==M?(V>=0&&(X({rootEl:M,name:"add",toEl:M,fromEl:k,originalEvent:e}),X({sortable:this,name:"remove",toEl:M,originalEvent:e}),X({rootEl:M,name:"sort",toEl:M,fromEl:k,originalEvent:e}),X({sortable:this,name:"sort",toEl:M,originalEvent:e})),L&&L.save()):V!==Se&&V>=0&&(X({sortable:this,name:"update",toEl:M,originalEvent:e}),X({sortable:this,name:"sort",toEl:M,originalEvent:e})),w.active&&((V==null||V===-1)&&(V=Se,ue=Xe),X({sortable:this,name:"end",toEl:M,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){j("nulling",this),k=m=M=x=be=P=Je=fe=ve=K=Fe=V=ue=Se=Xe=xe=je=L=Ve=w.dragged=w.ghost=w.clone=w.active=null,it.forEach(function(e){e.checked=!0}),it.length=gt=mt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":m&&(this._onDragOver(e),pa(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,a=0,l=o.length,i=this.options;a<l;a++)t=o[a],oe(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||ba(t));return e},sort:function(e,t){var o={},a=this.el;this.toArray().forEach(function(l,i){var r=a.children[i];oe(r,this.options.draggable,a,!1)&&(o[l]=r)},this),t&&this.captureAnimationState(),e.forEach(function(l){o[l]&&(a.removeChild(o[l]),a.appendChild(o[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return oe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var a=Ge.modifyOption(this,e,t);typeof a<"u"?o[e]=a:o[e]=t,e==="group"&&_o(o)},destroy:function(){j("destroy",this);var e=this.el;e[q]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),lt.splice(lt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!fe){if(j("hideClone",this),w.eventCanceled)return;b(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),fe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(fe){if(j("showClone",this),w.eventCanceled)return;m.parentNode==k&&!this.options.group.revertClone?k.insertBefore(P,m):be?k.insertBefore(P,be):k.appendChild(P),this.options.group.revertClone&&this.animate(m,P),b(P,"display",""),fe=!1}}};function pa(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ke(n,e,t,o,a,l,i,r){var u,c=n[q],f=c.options.onMove,s;return window.CustomEvent&&!re&&!We?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=n,u.dragged=t,u.draggedRect=o,u.related=a||e,u.relatedRect=l||B(e),u.willInsertAfter=r,u.originalEvent=i,n.dispatchEvent(u),f&&(s=f.call(c,u,i)),s}function _t(n){n.draggable=!1}function ha(){Ct=!1}function ga(n,e,t){var o=B(Ae(t.el,0,t.options,!0)),a=10;return e?n.clientX<o.left-a||n.clientY<o.top&&n.clientX<o.right:n.clientY<o.top-a||n.clientY<o.bottom&&n.clientX<o.left}function ma(n,e,t){var o=B(Bt(t.el,t.options.draggable)),a=10;return e?n.clientX>o.right+a||n.clientX<=o.right&&n.clientY>o.bottom&&n.clientX>=o.left:n.clientX>o.right&&n.clientY>o.top||n.clientX<=o.right&&n.clientY>o.bottom+a}function va(n,e,t,o,a,l,i,r){var u=o?n.clientY:n.clientX,c=o?t.height:t.width,f=o?t.top:t.left,s=o?t.bottom:t.right,g=!1;if(!i){if(r&&et<c*a){if(!Ye&&(je===1?u>f+c*l/2:u<s-c*l/2)&&(Ye=!0),Ye)g=!0;else if(je===1?u<f+et:u>s-et)return-je}else if(u>f+c*(1-a)/2&&u<s-c*(1-a)/2)return _a(e)}return g=g||i,g&&(u<f+c*l/2||u>s-c*l/2)?u>f+c/2?1:-1:0}function _a(n){return Z(m)<Z(n)?1:-1}function ba(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function wa(n){it.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&it.push(o)}}function tt(n){return setTimeout(n,0)}function It(n){return clearTimeout(n)}ft&&A(document,"touchmove",function(n){(w.active||Ee)&&n.cancelable&&n.preventDefault()});w.utils={on:A,off:I,css:b,find:fo,is:function(e,t){return!!oe(e,t,e,!1)},extend:oa,throttle:po,closest:oe,toggleClass:U,clone:go,index:Z,nextTick:tt,cancelNextTick:It,detectDirection:vo,getChild:Ae};w.get=function(n){return n[q]};w.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(w.utils=ae(ae({},w.utils),o.utils)),Ge.mount(o)})};w.create=function(n,e){return new w(n,e)};w.version=Jn;var F=[],Be,At,Tt=!1,bt,wt,st,Le;function ya(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):o.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),Jt(),ot(),na()},nulling:function(){st=At=Be=Tt=Le=bt=wt=null,F.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var a=this,l=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(l,i);if(st=t,o||this.options.forceAutoScrollFallback||We||re||ze){yt(t,this.options,r,o);var u=pe(r,!0);Tt&&(!Le||l!==bt||i!==wt)&&(Le&&Jt(),Le=setInterval(function(){var c=pe(document.elementFromPoint(l,i),!0);c!==u&&(u=c,ot()),yt(t,a.options,c,o)},10),bt=l,wt=i)}else{if(!this.options.bubbleScroll||pe(r,!0)===ne()){ot();return}yt(t,this.options,pe(r,!1),!1)}}},se(n,{pluginName:"scroll",initializeByDefault:!0})}function ot(){F.forEach(function(n){clearInterval(n.pid)}),F=[]}function Jt(){clearInterval(Le)}var yt=po(function(n,e,t,o){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,i=e.scrollSensitivity,r=e.scrollSpeed,u=ne(),c=!1,f;At!==t&&(At=t,ot(),Be=e.scroll,f=e.scrollFn,Be===!0&&(Be=pe(t,!0)));var s=0,g=Be;do{var v=g,h=B(v),y=h.top,O=h.bottom,N=h.left,C=h.right,d=h.width,W=h.height,he=void 0,ee=void 0,ge=v.scrollWidth,$e=v.scrollHeight,G=b(v),Oe=v.scrollLeft,ce=v.scrollTop;v===u?(he=d<ge&&(G.overflowX==="auto"||G.overflowX==="scroll"||G.overflowX==="visible"),ee=W<$e&&(G.overflowY==="auto"||G.overflowY==="scroll"||G.overflowY==="visible")):(he=d<ge&&(G.overflowX==="auto"||G.overflowX==="scroll"),ee=W<$e&&(G.overflowY==="auto"||G.overflowY==="scroll"));var ke=he&&(Math.abs(C-a)<=i&&Oe+d<ge)-(Math.abs(N-a)<=i&&!!Oe),le=ee&&(Math.abs(O-l)<=i&&ce+W<$e)-(Math.abs(y-l)<=i&&!!ce);if(!F[s])for(var me=0;me<=s;me++)F[me]||(F[me]={});(F[s].vx!=ke||F[s].vy!=le||F[s].el!==v)&&(F[s].el=v,F[s].vx=ke,F[s].vy=le,clearInterval(F[s].pid),(ke!=0||le!=0)&&(c=!0,F[s].pid=setInterval(function(){o&&this.layer===0&&w.active._onTouchMove(st);var Pe=F[this.layer].vy?F[this.layer].vy*r:0,de=F[this.layer].vx?F[this.layer].vx*r:0;typeof f=="function"&&f.call(w.dragged.parentNode[q],de,Pe,n,st,F[this.layer].el)!=="continue"||ho(F[this.layer].el,de,Pe)}.bind({layer:s}),24))),s++}while(e.bubbleScroll&&g!==u&&(g=pe(g,!1)));Tt=c}},30),yo=function(e){var t=e.originalEvent,o=e.putSortable,a=e.dragEl,l=e.activeSortable,i=e.dispatchSortableEvent,r=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(t){var c=o||l;r();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,s=document.elementFromPoint(f.clientX,f.clientY);u(),c&&!c.el.contains(s)&&(i("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Lt(){}Lt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Ae(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:yo};se(Lt,{pluginName:"revertOnSpill"});function Ht(){}Ht.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:yo};se(Ht,{pluginName:"removeOnSpill"});w.mount(new ya);w.mount(Ht,Lt);var xa=Object.defineProperty,rt=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable,eo=(n,e,t)=>e in n?xa(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,to=(n,e)=>{for(var t in e||(e={}))xo.call(e,t)&&eo(n,t,e[t]);if(rt)for(var t of rt(e))Eo.call(e,t)&&eo(n,t,e[t]);return n},Ea=(n,e)=>{var t={};for(var o in n)xo.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&rt)for(var o of rt(n))e.indexOf(o)<0&&Eo.call(n,o)&&(t[o]=n[o]);return t};function oo(n,e,t={}){let o;const a=t,{document:l=$o}=a,i=Ea(a,["document"]),r={onUpdate:s=>{Da(e,s.oldIndex,s.newIndex)}},u=()=>{const s=typeof n=="string"?l==null?void 0:l.querySelector(n):To(n);s&&(o=new w(s,to(to({},r),i)))},c=()=>o==null?void 0:o.destroy(),f=(s,g)=>{if(g!==void 0)o==null||o.option(s,g);else return o==null?void 0:o.option(s)};return Ao(u),Oo(c),{stop:c,start:u,option:f}}function Da(n,e,t){const o=ko(n);if(t>=0&&t<o.length){const a=o.splice(e,1)[0];Et(()=>o.splice(t,0,a))}}function te(n){let e,t=n[0],o=1;for(;o<n.length;){const a=n[o],l=n[o+1];if(o+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...i)=>t.call(e,...i)),e=void 0)}return t}const Sa={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},Ca={class:"flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4"},Ia={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},Aa={class:"flex items-center gap-4"},Ta={class:"whitespace-nowrap font-semibold"},$a=p("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Oa={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},ka={class:"flex items-center gap-4"},Pa={class:"whitespace-nowrap font-semibold"},Na=p("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Ma=we({__name:"DownloadManagerDownloadSection",setup(n){const e=J(),t=J(),o=J(),a=J(!0),{scheduledDownloadables:l,unscheduledDownloadables:i}=Ie();function r(){const f=te([e,"access",g=>g.value,"optionalAccess",g=>g.children]),s=te([t,"access",g=>g.value,"optionalAccess",g=>g.children]);if(!f||!s)return!1;if(f.length!==l.value.length||s.length!==i.value.length)return!0;for(let g=0;g<f.length;g++)if(f[g].getAttribute("dl-id")!==l.value[g].id.toString())return!0;for(let g=0;g<s.length;g++)if(s[g].getAttribute("dl-id")!==i.value[g].id.toString())return!0;return!1}function u(){console.warn("Detected desync, rerendering..."),a.value=!1,Et(()=>a.value=!0)}function c(f,s,g,v){if(v>=0&&v<s.value.length+1){const h=f.value.splice(g,1)[0];h&&s.value.splice(v,0,h)}Et(()=>{r()&&u()})}return oo(e,l,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.observeItem())]),c(i,l,f.oldIndex,f.newIndex)},onUpdate:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.observeItem())]),c(l,l,f.oldIndex,f.newIndex)},onChange:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.removeObserveItem())])},onEnd:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.observeItem())])}}),oo(t,i,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.observeItem())]),c(l,i,f.oldIndex,f.newIndex)},onUpdate:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.observeItem())]),c(i,i,f.oldIndex,f.newIndex)},onChange:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.removeObserveItem())])},onEnd:function(f){te([o,"access",s=>s.value,"optionalAccess",s=>s.forEach,"call",s=>s(g=>g.observeItem())])}}),(f,s)=>(D(),T("section",Sa,[p("div",Ca,[p("section",Ia,[p("div",Aa,[p("h4",Ta,E(f.$t("scheduledDownload")),1),$a]),p("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(D(!0),T(Dt,null,St(_(a)?_(l):[],g=>(D(),De(_(Yt),{ref_for:!0,ref_key:"downloadEl",ref:o,key:g.id,dir:"ltr","dl-id":g.id,data:g,class:Q({hidden:g.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),p("section",Oa,[p("div",ka,[p("h4",Pa,E(f.$t("unScheduledDownload")),1),Na]),p("div",{ref_key:"unscheduledEl",ref:t,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(D(!0),T(Dt,null,St(_(a)?_(i):[],g=>(D(),De(_(Yt),{ref_for:!0,ref_key:"downloadEl",ref:o,key:g.id,class:"download-item",dir:"ltr","dl-id":g.id,data:g},null,8,["dl-id","data"]))),128))],512)])])]))}}),Fa={class:"flex w-full items-center gap-2"},Ba={class:"flex gap-2"},La={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},Ha={class:"flex flex-col items-start justify-start gap-1"},za={class:"line-clamp-1 break-all text-sm",dir:"ltr"},Ra={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},Xa={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},ja={class:"text-fonts-300 ltr-dir text-xs font-bold"},Ya={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},Wa=we({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(n){const{showPath:e,openPath:t,completedDownloadables:o}=Ie();function a(l){o&&(o.value=o.value.filter(i=>i.id!==l))}return(l,i)=>{const r=kt,u=dt,c=ut;return D(),T("div",Fa,[p("div",Ba,[S(r,{to:`/single/${l.data.postId}`},{default:z(()=>[p("div",La,[S(_(Ot),{src:l.data.image.poster.webp,punch:1,hash:l.data.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":75,"width-size":50},null,8,["src","hash"])])]),_:1},8,["to"]),p("div",Ha,[p("h6",za,E(l.data.title),1),l.data.season!==void 0&&l.data.episode!==void 0?(D(),T("p",Ra,"S"+E(l.data.season)+"E"+E(l.data.episode),1)):R("",!0),p("p",Xa,E(l.data.quality),1),p("p",ja,E(l.data.size),1)])]),p("ul",Ya,[p("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[0]||(i[0]=f=>_(t)(l.data.path))},[S(u,{name:"ph:play-fill",class:"h-6 w-6"}),S(c,{placement:"top"},{default:z(()=>[Y(E(l.$t("play")),1)]),_:1})]),p("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[1]||(i[1]=f=>_(e)(l.data.path))},[S(u,{name:"ph:folder-fill",class:"h-6 w-6"}),S(c,{placement:"top"},{default:z(()=>[Y(E(l.$t("browseLocation")),1)]),_:1})]),p("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[2]||(i[2]=f=>a(l.data.id))},[S(u,{name:"ph:trash-fill",class:"h-6 w-6"}),S(c,{placement:"top"},{default:z(()=>[Y(E(l.$t("removeFromHistory")),1)]),_:1})])])])}}});function Ga(n){let e,t=n[0],o=1;for(;o<n.length;){const a=n[o],l=n[o+1];if(o+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...i)=>t.call(e,...i)),e=void 0)}return t}const zt=n=>(Pt("data-v-04065ef9"),n=n(),Nt(),n),Ua={"aria-label":"download manager sidebar",class:"flex h-full w-[18rem] flex-col rounded-2xl bg-bg-10 shadow-lg"},Va={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},qa={class:"w-full font-semibold"},Za={class:"relative flex items-center justify-center"},Ka={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},Qa={class:"local-numbers text-4xl font-bold"},Ja=zt(()=>p("span",{class:"absolute h-4 w-4 rounded-full bg-bg-1 blur-md"},null,-1)),el={class:"flex flex-row items-center gap-1",dir:"ltr"},tl={key:0},ol=zt(()=>p("p",null,"/",-1)),nl={key:1},al={key:0,class:"absolute flex w-full flex-col items-center justify-center gap-4 text-3xl text-fonts-300"},ll={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},il={class:"w-full font-semibold"},sl={class:"flex w-full flex-1 overflow-y-auto"},rl={key:0,class:"flex w-full flex-col overflow-y-auto"},cl=zt(()=>p("span",{class:"line my-2 h-[2px] w-[90%] self-center rounded-full bg-bg-9/30 px-12"},null,-1)),dl={key:1,class:"flex w-full flex-col items-center justify-center gap-4 text-fonts-400"},ul={class:"mb-32 font-bold"},fl=we({__name:"DownloadManagerSidebar",setup(n){const{bytesToSize:e}=He.core,{getStorageStats:t,completedDownloadables:o}=Ie(),{downloadPath:a}=Ie(),l=J(),i=J(),r=J(!0),u=ao(()=>i.value&&l.value?Math.floor(i.value/l.value*100):0);async function c(){if(!t)return;const{freeSpace:s,totalSpace:g}=await t();l.value=g,i.value=g-s}ct(async()=>{await c(),r.value=!1,setInterval(c,1e3*60*5)}),lo(a,()=>{c()});const f=so();return(s,g)=>{const v=dt,h=ut,y=Bo,O=Po,N=Wa;return D(),T("section",Ua,[p("header",Va,[p("h4",qa,E(s.$t("storage"))+":",1),p("div",{class:"absolute top-4 flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100 ltr:right-4 rtl:left-4",onClick:g[0]||(g[0]=C=>_(f).toggleDownloadFolder())},[S(v,{name:"ph:folder-fill"}),S(h,{placement:"top"},{default:z(()=>[Y(E(s.$t("storageLocation")),1)]),_:1})]),p("div",Za,[p("div",{class:Q(["relative flex flex-col items-center justify-center gap-4 transition-opacity",{"pointer-events-none opacity-0":_(r)}])},[S(y,{size:180,"stroke-width":12,linecap:"round",progress:_(u)},null,8,["progress"]),p("span",Ka,[p("h4",Qa,E(_(u))+"%",1),Ja]),p("div",el,[_(i)?(D(),T("p",tl,E(_(e)(_(i))),1)):R("",!0),ol,_(l)?(D(),T("p",nl,E(_(e)(_(l))),1)):R("",!0)])],2),_(r)?(D(),T("div",al,[S(O,{type:"circle"})])):R("",!0)])]),p("section",ll,[p("h4",il,E(s.$t("history"))+":",1),p("div",sl,[Ga([_,"call",C=>C(o),"optionalAccess",C=>C.length])?(D(),T("ul",rl,[(D(!0),T(Dt,null,St(_(o),C=>(D(),T("li",{key:C.id,class:"history-item group flex w-full flex-col"},[S(N,{data:C},null,8,["data"]),cl]))),128))])):(D(),T("div",dl,[S(v,{name:"ph:download-fill",class:"text-4xl"}),p("h5",ul,E(s.$t("downloadHistoryIsEmpty")),1)]))])])])}}});const pl=Mt(fl,[["__scopeId","data-v-04065ef9"]]);function xt(n){let e,t=n[0],o=1;for(;o<n.length;){const a=n[o],l=n[o+1];if(o+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...i)=>t.call(e,...i)),e=void 0)}return t}const hl={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},gl={class:"flex h-full w-full flex-col gap-8"},wl=we({__name:"download-manager",setup(n){const{isLoggedIn:e,user:t}=No(),{isElectron:o}=Mo();if(!o||!e||!xt([t,"optionalAccess",a=>a.user_allowed_to_download]))throw Fo({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return ct(()=>{const a=document.getElementById("main-scroller");xt([a,"optionalAccess",l=>l.classList,"access",l=>l.add,"call",l=>l("overflow-hidden-force")])}),no(()=>{const a=document.getElementById("main-scroller");xt([a,"optionalAccess",l=>l.classList,"access",l=>l.remove,"call",l=>l("overflow-hidden-force")])}),(a,l)=>{const i=An,r=Ma,u=pl;return D(),T("div",hl,[p("div",gl,[S(i,{dir:"ltr"}),S(r)]),S(u)])}}});export{wl as default};
