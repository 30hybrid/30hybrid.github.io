import{d as L,g as a,h as c,i as g,q as r,B as h,y as I,z as R,D as ee,b as H,R as F,V as D,Z as O,j as b,w as q,A as Z,p as v,$ as G,J,I as z,F as x,r as S,k as E,a0 as te,c as $,X,n as T,aq as ne,at as se,as as oe,o as le}from"./entry.7726ca09.js";import{u as j}from"./pricing.24d289f0.js";import{_ as ae}from"./BrandAnimatedStars.8a189efe.js";import{_ as re}from"./FormDropdown.vue.34aeb28b.js";const ie={key:0},ce=r("svg",{class:"fill-bg-12 absolute top-0 h-full rounded-r-xl ltr:right-full ltr:translate-x-[1px] ltr:rotate-180 rtl:left-full rtl:translate-x-[-1px]",viewBox:"0 0 8 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 0H0V30H8L8 8.34204L8 0ZM8 8.34204L7.99611 8.34485L7.99914 8.34212L7.99914 4C7.99914 6.92963 6.92984 8.96704 6.14398 9.93857C6.02543 10.063 5.91246 10.1875 5.80492 10.312C5.78418 10.3319 5.76392 10.3507 5.74418 10.3684L5.7979 10.3201C2.85283 13.7386 3.99163 17.1976 5.90023 19.4823L5.74423 19.3421C6.49593 20.0176 7.99914 22.2948 7.99914 25.9999L7.99914 21.3683L7.99706 21.3665L8 21.3684L8 8.34204Z"})],-1),ue=r("p",{class:"opacity-0 invisible"},"feature",-1),de=[ce,ue],pe={key:1},fe=r("svg",{class:"fill-bg-12 absolute top-0 h-full rounded-r-xl ltr:right-full ltr:translate-x-[1px] ltr:rotate-180 rtl:left-full rtl:translate-x-[-1px]",viewBox:"0 0 8 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 0H0V30H8L8 8.34204L8 0ZM8 8.34204L7.99611 8.34485L7.99914 8.34212L7.99914 4C7.99914 6.92963 6.92984 8.96704 6.14398 9.93857C6.02543 10.063 5.91246 10.1875 5.80492 10.312C5.78418 10.3319 5.76392 10.3507 5.74418 10.3684L5.7979 10.3201C2.85283 13.7386 3.99163 17.1976 5.90023 19.4823L5.74423 19.3421C6.49593 20.0176 7.99914 22.2948 7.99914 25.9999L7.99914 21.3683L7.99706 21.3665L8 21.3684L8 8.34204Z"})],-1),_e={key:0,class:"absolute top-1/2 -translate-y-1/2 rounded-full ltr:left-2 rtl:right-2 flex items-center justify-center"},ge=r("span",{class:"rounded-full bg-green-400/50 opacity-50 blur-sm absolute inset-0"},null,-1),me={key:1,class:"absolute top-1/2 -translate-y-1/2 rounded-full ltr:left-2 rtl:right-2 flex items-center justify-center"},he=r("span",{class:"rounded-full bg-red-400/50 opacity-50 blur-sm absolute inset-0"},null,-1),ye=L({__name:"PricingFeature",props:{feature:{},loading:{type:Boolean}},setup(d){return(e,o)=>{const u=ee;return a(),c("li",{class:R(["group bg-bg-12 relative flex justify-center rounded-xl py-3 transition-colors ltr:rounded-l-none rtl:rounded-r-none",{"animate-pulse":e.loading}])},[e.loading?(a(),c("div",ie,de)):e.feature?(a(),c("div",pe,[fe,e.feature.enable?(a(),c("span",_e,[g(u,{name:"ph:check-bold",class:"text-green-400 text-xl check relative"}),ge])):(a(),c("span",me,[g(u,{name:"ph:x-bold",class:"text-red-400 text-xl check relative"}),he])),r("p",null,h(e.feature.title),1)])):I("",!0)],2)}}}),K=typeof window>"u"||typeof window.require>"u",V=!K&&navigator.userAgent.toLowerCase().includes("electron");function we(){if(!V||K)return{isElectron:V};const d=window.require("electron");async function e(n,l){return await d.ipcRenderer.invoke("WinService:createWindow",n,l)}async function o(n,l){await d.ipcRenderer.invoke("WinService:loadUrl",n,l)}async function u(n){await d.ipcRenderer.invoke("WinService:terminateWindow",n)}async function i(n,l){await d.ipcRenderer.invoke("WinService:injectJavascript",n,l)}async function s(n,l){await d.ipcRenderer.invoke("WinService:injectHTML",n,l)}async function p(n,l){await d.ipcRenderer.invoke("WinService:injectCSS",n,l)}function m(n){return d.ipcRenderer.invoke("WinService:awaitWindowClose",n)}return{isElectron:V,createWindow:e,loadUrl:o,terminateWindow:u,injectJavascript:i,injectHTML:s,onWindowClose:m,injectCSS:p}}function U(d){let e,o=d[0],u=1;for(;u<d.length;){const i=d[u],s=d[u+1];if(u+=2,(i==="optionalAccess"||i==="optionalCall")&&o==null)return;i==="access"||i==="optionalAccess"?(e=o,o=s(o)):(i==="call"||i==="optionalCall")&&(o=s((...p)=>o.call(e,...p)),e=void 0)}return o}const be={key:1,class:"flex flex-row bg-bg-12 gap-8 price-li w-full p-4 rounded-xl items-center justify-between transition-opacity"},ve={class:"flex flex-col gap-2"},xe={key:0,class:"rounded-lg bg-primary-500 px-4 py-1 font-bold text-sm text-center"},Se={key:1,class:"text-xl font-bold"},$e={class:"text-base text-fonts-300 font-semibold"},Le=L({__name:"PricingPrice",props:{priceInfo:{},days:{},loading:{type:Boolean}},setup(d){const e=d,{t:o,locale:u}=H(),i=F(),s=J(),p=D(),{isElectron:m,createWindow:n,loadUrl:l,onWindowClose:k,injectHTML:C}=we(),{dataFetchers:y}=O(),{fetchUserSession:A}=y,_=j();function P(t){document.querySelectorAll(".price-li").forEach(w=>t.currentTarget.parentElement!==w&&w.classList.add("not-focused"))}function M(t){document.querySelectorAll(".price-li").forEach(w=>w.classList.remove("not-focused"))}async function B(){if(i.user)return!0;for(s.toggleAuth(!0);s.auth.value;)await v.core.delay(300);return!!i.user}async function W(){e.priceInfo&&(await B(),s.toggleLoader(!0),_.gateway==="shaparak"&&await Q(e.priceInfo.id),_.gateway==="paypal"&&await Y(e.priceInfo.id),s.toggleLoader(!1))}async function N(t){if(!m){if(t.html)return document.body.innerHTML=t.html;t.url&&window.location.replace(t.url);return}const f=await n({width:1024,height:800,autoHideMenuBar:!0,webPreferences:{nodeIntegration:!1,contextIsolation:!0}});t.html?await C(f,t.html):t.url&&await l(f,t.url),s.toggleLoader(!0,o("pricing.waitingForPayment")),await k(f),s.toggleLoader(!0,o("pricing.verifyingPayment")),await A()}async function Q(t){const f=await v.API.actions.shaparak(t.toString(),_.discountCode);if(U([f,"optionalAccess",w=>w.error]))return p(f.msg,"ERROR");!f||!f.success||await N(f.result)}async function Y(t){const f=await v.API.actions.paypal(t.toString(),_.discountCode);if(U([f,"optionalAccess",w=>w.error]))return p(f.msg,"ERROR");!f||!f.success||await N(f.result)}return(t,f)=>{const w=G;return t.loading?(a(),c("li",{key:0,class:R(["flex flex-row bg-bg-12 gap-8 w-full p-4 rounded-xl items-center justify-between transition-opacity h-[5.75rem]",{"animate-pulse":t.loading}])},null,2)):t.priceInfo&&t.days?(a(),c("li",be,[r("div",ve,[t.priceInfo.note?(a(),c("p",xe,h(t.priceInfo.note),1)):I("",!0),r("p",{class:R(["text-xl font-bold",{"!text-sm !text-fonts-300 line-through":t.priceInfo.discount}]),style:{"unicode-bidi":"plaintext"}},h(t.priceInfo.currency==="USD"?"$":"")+" "+h(t.priceInfo.price)+" "+h(t.priceInfo.currency==="IRT"?"تومان":""),3),t.priceInfo.discount?(a(),c("p",Se,h(t.priceInfo.currency==="USD"?"$":"")+" "+h(t.priceInfo.discount)+" "+h(t.priceInfo.currency==="IRT"?"تومان":""),1)):I("",!0),r("p",$e,h(t.days.toLocaleString(b(u),{useGrouping:!1}))+" "+h(t.$t("nDays")),1)]),g(w,{class:"btn-primary-outline text-sm",onClick:W,onMouseover:P,onMouseleave:M},{default:q(()=>[Z(h(t.$t("pricing.buy")),1)]),_:1})])):I("",!0)}}});const ke=z(Le,[["__scopeId","data-v-c6cb7914"]]),Ce={class:"flex flex-col items-center"},Ie={key:"loading","aria-label":"skeleton",class:"flex flex-col items-center h-full"},Pe=te('<header class="bg-bg-11 rounded-t-3xl relative min-w-[12em] justify-center items-center flex"><span class="absolute bottom-0 h-[1em] w-[1em] overflow-hidden ltr:left-full rtl:right-full"><span class="absolute bottom-0 h-[200%] w-[200%] rounded-[100%] shadow-[0_0_0_200px] ltr:left-0 rtl:right-0 shadow-bg-11"></span></span><span class="absolute bottom-0 h-[1em] w-[1em] overflow-hidden ltr:right-full rtl:left-full"><span class="absolute bottom-0 h-[200%] w-[200%] rounded-[100%] shadow-[0_0_0_200px] ltr:right-0 rtl:left-0 shadow-bg-11"></span></span><h5 class="p-4 px-8 opacity-0 invisible text-3xl font-bold"> title </h5></header>',1),Re={class:"bg-bg-11 w-[24em] rounded-3xl min-h-[32em] p-6 flex-1 flex-col h-full flex"},je={class:"flex flex-col gap-4"},Ae={class:"flex items-center mt-12 flex-col gap-4 flex-1 justify-between"},Me=["aria-label"],Be={class:"bg-bg-11 rounded-t-3xl relative min-w-[12em] justify-center items-center flex"},We=r("span",{class:"absolute bottom-0 h-[1em] w-[1em] overflow-hidden ltr:left-full rtl:right-full"},[r("span",{class:"absolute bottom-0 h-[200%] w-[200%] rounded-[100%] shadow-[0_0_0_200px] ltr:left-0 rtl:right-0 shadow-bg-11"})],-1),Ve=r("span",{class:"absolute bottom-0 h-[1em] w-[1em] overflow-hidden ltr:right-full rtl:left-full"},[r("span",{class:"absolute bottom-0 h-[200%] w-[200%] rounded-[100%] shadow-[0_0_0_200px] ltr:right-0 rtl:left-0 shadow-bg-11"})],-1),Ee={class:"bg-bg-11 w-[24em] rounded-3xl min-h-[32em] p-6 flex-col h-full flex"},Te={class:"flex flex-col gap-4"},He={class:"flex items-center mt-12 flex-col gap-4 flex-1 justify-between"},Ne=L({__name:"PricingPlan",props:{plan:{},loading:{type:Boolean}},setup(d){return(e,o)=>{const u=ye,i=ke;return a(),c("div",Ce,[e.loading?(a(),c("section",Ie,[Pe,r("div",Re,[r("ul",je,[(a(),c(x,null,S(4,s=>g(u,{key:s,loading:""})),64))]),r("ul",Ae,[(a(),c(x,null,S(3,s=>g(i,{key:s,loading:""})),64))])])])):e.plan?(a(),c("section",{key:"plan","aria-label":"plan "+e.plan.type,class:"flex flex-col items-center h-full"},[r("header",Be,[We,Ve,r("h5",{class:R(["p-4 px-8 text-3xl font-bold drop-shadow-[0_0_2px]",[{"text-yellow-500":e.plan.type==="golden"},{"text-red-500":e.plan.type==="red"}]])},h(e.plan.title),3)]),r("div",Ee,[r("ul",Te,[(a(!0),c(x,null,S(e.plan.features,(s,p)=>(a(),E(u,{key:p,feature:s},null,8,["feature"]))),128))]),r("ul",He,[(a(!0),c(x,null,S(e.plan.prices,(s,p)=>(a(),E(i,{key:s.id,"price-info":s,days:Number(p)},null,8,["price-info","days"]))),128))])])],8,Me)):I("",!0)])}}}),Ue={class:"flex justify-center"},Fe=L({__name:"PricingMethod",setup(d){const e=j(),{t:o}=H(),u=$(()=>e.gateway),i=$(()=>e.discountCode),s=$(()=>[{title:o("pricing.shaparak"),value:"shaparak"},{title:o("pricing.paypal"),value:"paypal"}]);async function p(m){e.gateway=m[0];const n=await X(`PRICING::PLANS::${u.value}::${i.value}`,()=>v.API.actions.plans(u.value,i.value));n&&(e.plans=n.result.plans)}return(m,n)=>{const l=re;return a(),c("div",Ue,[g(l,{title:m.$t("pricing.paymentMethod"),list:b(s),"selected-option":b(u),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:p},null,8,["title","list","selected-option"])])}}}),De={class:"justify-center flex"},Oe=["onSubmit"],qe=L({__name:"PricingVoucher",setup(d){const e=j(),o=D(),{t:u}=H(),i=F(),{dataFetchers:s}=O(),{fetchUserSession:p}=s,m=J(),n=T(""),l=T(!1);async function k(){if(i.user)return!0;for(m.toggleAuth(!0);m.auth.value;)await v.core.delay(300);return!!i.user}async function C(){const _=await v.API.actions.voucher(n.value);_&&(o(_.msg,_.success?"SUCCESS":"ERROR"),await p())}async function y(){const _=await v.API.actions.plans(e.gateway,n.value);_&&(_.result.discount.discount_error?o(_.result.discount.discount_error,"ERROR"):_.result.discount.use_discount&&(e.discountCode=n.value,e.plans=_.result.plans,o(u("pricing.discountApplied"),"SUCCESS")))}async function A(){if(n.value){if(l.value=!0,!await k()){l.value=!1;return}n.value.length===34?await C():await y(),l.value=!1}}return(_,P)=>{const M=oe,B=G;return a(),c("div",De,[r("form",{class:"flex items-center gap-4",onSubmit:se(A,["prevent"])},[g(M,{modelValue:b(n),"onUpdate:modelValue":P[0]||(P[0]=W=>ne(n)?n.value=W:null),name:"input",label:_.$t("pricing.voucher/discountCode"),"label-bg":"bg-bg-12",dimmed:"",disable:b(l)},null,8,["modelValue","label","disable"]),g(B,{class:"btn-primary text-sm",disabled:!b(n),loading:b(l),type:"submit"},{default:q(()=>[Z(h(_.$t("apply")),1)]),_:1},8,["disabled","loading"])],40,Oe)])}}}),Ze={class:"flex items-center flex-col min-h-full justify-center relative !w-auto self-center"},Ge={key:"loader","aria-label":"loader",class:"flex flex-row flex-wrap gap-12 items-stretch relative"},Je={key:"plans","aria-label":"plans",class:"flex flex-col"},ze={class:"flex flex-row flex-wrap gap-12 justify-center items-stretch relative"},Xe={class:"flex flex-row items-center gap-4 justify-center mt-12 mb-24"},Ke=L({__name:"index",setup(d){const e=j(),o=T(!1),u=$(()=>e.plans),i=$(()=>e.gateway),s=$(()=>e.discountCode);return le(async()=>{o.value=!0;const p=await X(`PRICING::PLANS::${i.value}::${s.value}`,()=>v.API.actions.plans(i.value,s.value));p&&(e.plans=p.result.plans,o.value=!1)}),(p,m)=>{const n=Ne,l=ae,k=Fe,C=qe;return a(),c("div",Ze,[b(o)?(a(),c("section",Ge,[(a(),c(x,null,S(2,y=>g(n,{key:y,loading:""})),64))])):(a(),c("section",Je,[r("div",ze,[g(l,{class:"absolute right-full -translate-x-32 top-0 text-[5.2vw] opacity-5 rotate-180 brand-star"}),g(l,{class:"absolute right-full -translate-x-32 bottom-1/3 text-[4vw] opacity-20 rotate-180 brand-star",delay:300}),g(l,{class:"absolute right-full -translate-x-32 bottom-0 text-[2vw] opacity-20 rotate-180 brand-star",delay:600}),g(l,{class:"absolute left-full translate-x-32 top-0 text-[5.2vw] opacity-5 brand-star"}),g(l,{class:"absolute left-full translate-x-32 bottom-1/3 text-[4vw] opacity-20 brand-star",delay:300}),g(l,{class:"absolute left-full translate-x-32 bottom-0 text-[2vw] opacity-20 brand-star",delay:600}),(a(!0),c(x,null,S(b(u),y=>(a(),E(n,{key:y.id,plan:y},null,8,["plan"]))),128))]),r("div",Xe,[g(k,{class:"w-[21rem]",onLoading:m[0]||(m[0]=y=>o.value=y)}),g(C,{class:"w-[21rem]"})])]))])}}});const nt=z(Ke,[["__scopeId","data-v-005211e9"]]);export{nt as default};
