import{d as I,b as S,r as c,l as j,k as g,aj as E,o as p,e as d,f as r,Q as f,g as n,t as b,h as L,ak as N,G as _,a3 as $,a4 as z,al as F,O as M}from"./entry.386a7022.js";/* empty css                       *//* empty css                           *//* empty css                             */import"./TitleSlider.vue.e81776af.js";/* empty css                             */import"./SidebarMain.vue.f11432f7.js";import"./welcome.vue.55b1dffd.js";import{_ as T}from"./FormInput.cb969cbe.js";/* empty css                              *//* empty css                                  *//* empty css                    */const G={class:"relative w-[200px]"},Q={class:"pointer-events-none -mb-2 transform-gpu whitespace-nowrap px-2 transition-all"},R={class:"text-fonts-200 line-clamp-1"},U={class:"flex h-full w-full flex-col gap-2 overflow-auto px-2","aria-labelledby":"dropdownMenuButton"},q={key:0,class:"mb-2 w-full"},H={key:1},J=["onClick"],re=I({__name:"FormDropdown",props:{multiSelection:{type:Boolean},title:null,style:null,hasDefaultAll:{type:Boolean},selectedOption:null,searchable:{type:Boolean},list:null},emits:["update:modelValue","onChange"],setup(i,{emit:y}){const s=i,{t:k}=S(),o=c(!1),h=c(),x=c(null),u=c(""),w=[{title:"item1",value:"number 1"},{title:"item2",value:"number 2"}],e=c([]);j(()=>{s.hasDefaultAll?e.value=s.selectedOption?[s.selectedOption||"ALL"]:["ALL"]:e.value=s.selectedOption?[s.selectedOption]:[]});async function O(){var t;o.value=!0,await F(100),(t=x.value)==null||t.focusOnInput()}function C(){o.value=!1}function m(){const t=e.value.length?e.value:["ALL"];y("update:modelValue",t),y("onChange",t)}function A(){e.value=["ALL"],m(),o.value=!1}function V(t){if(s.multiSelection)return e.value=e.value.filter(l=>l!=="ALL"),e.value.includes(t)?(e.value=e.value.filter(l=>l!==t),e.value.length===0&&(e.value=["ALL"]),m()):(e.value.push(t),m());e.value=[t],m(),o.value=!1}const B=g(()=>(s.list||w).filter(l=>l.title.toLowerCase().includes(u.value.toLowerCase())));E(h,()=>{o.value&&(o.value=!1)});const D=g(()=>{const t=s.list||w;return e.value.map(l=>{var v;return l==="ALL"?k("form.dropdown.default"):((v=t.find(a=>a.value===l))==null?void 0:v.title)||l})});return(t,l)=>{const v=M;return p(),d("div",{ref_key:"dropdown",ref:h,class:"text-sm"},[r("div",G,[r("fieldset",{class:f(["border-fonts-50 text-fonts-50 input outline-fonts-[50] relative my-2 flex w-full cursor-pointer flex-row items-center justify-between gap-2 rounded-xl border-2 p-2 px-4 outline-offset-2 transition-colors",{"!border-primary-500":n(o)}]),"aria-haspopup":"true","aria-expanded":"false",onClick:l[0]||(l[0]=a=>n(o)?C():O())},[r("legend",Q,b(i.title),1),r("p",R,b([...n(D)].join(", ")),1),L(v,{name:"ph:caret-down-bold",class:f([{"rotate-180":n(o)},"transition-transform"])},null,8,["class"])],2),r("div",{class:f(["invisible absolute z-20 flex max-h-[15em] w-full -translate-y-2 flex-col gap-1 rounded-xl px-1 py-2 opacity-0 transition-all",[{"!visible !translate-y-0 !opacity-100":n(o)},i.style.foreground]])},[r("ul",U,[i.searchable?(p(),d("li",q,[L(n(T),{ref_key:"searchInputEl",ref:x,modelValue:n(u),"onUpdate:modelValue":l[1]||(l[1]=a=>N(u)?u.value=a:null),name:"dropdown-name-searchbox",label:t.$t("form.dropdown.search"),"label-bg":i.style.foreground,class:"text-xs",icon:"ph:magnifying-glass-fill"},null,8,["modelValue","label","label-bg"])])):_("",!0),!n(u)&&i.hasDefaultAll?(p(),d("li",H,[r("button",{type:"button",class:f([{"bg-primary-500 hover:!bg-primary-500 text-white":n(e).includes("ALL")},"10 hover:bg-fonts-50/10 flex w-full rounded-md py-2 px-4"]),onClick:A},b(t.$t("form.dropdown.default")),3)])):_("",!0),(p(!0),d($,null,z(n(B),a=>(p(),d("li",{key:a.value},[r("button",{type:"button",class:f([{"bg-primary-500 hover:!bg-primary-500 text-white":n(e).includes(a.value)},"10 hover:bg-fonts-50/10 flex w-full rounded-md py-2 px-4"]),onClick:K=>V(a.value)},b(a.title),11,J)]))),128))])],2)])],512)}}});export{re as _};
