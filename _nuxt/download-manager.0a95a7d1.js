import{_ as It}from"./nuxt-link.c1449334.js";import{d as be,u as on,r as ne,q as Tt,D as an,o as A,e as O,H as Le,f,V as An,W as Ce,l as ln,X as sn,Y as $t,h as S,w as R,x as Ee,y as Q,P as te,g as b,F as z,t as D,n as rn,G as In,I as rt,Z as ct,$ as Ot,a0 as Pt,m as kt,a1 as cn,a2 as Tn,a3 as $n,a4 as On,a5 as Pn,a6 as kn,a7 as yt,L as xt,M as Et,A as Nn,a8 as Mn,a9 as Fn}from"./entry.a38ac9df.js";import{C as Xt,i as Rt}from"./chartjs-plugin-gradient.esm.283a673b.js";import{_ as Ln}from"./BaseCircularProgress.vue.1fef6a3e.js";function We(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Bn={class:"relative"},Hn=f("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[f("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[f("canvas",{id:"acquisitions",class:"!w-full"})])],-1),Xn=[Hn],Rn=be({__name:"DownloadManagerChart",setup(o,{expose:e}){const{disableAnimations:t}=on(),n=ne(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const l=p=>{const c=r[p.dataIndex];return`${Le.core.bytesToSize(c)}/s`};Tt(()=>{Xt.register(Rt);const p={backgroundColor:`rgb(${n.value})`,borderColor:`rgb(${n.value})`,maintainAspectRatio:!1,animation:{duration:t.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:l}}},responsive:!0};a=new Xt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${n.value} / 0)`,100:`rgb(${n.value} / 0.3)`}}},pointBackgroundColor:`rgb(${n.value})`,fill:!0,label:"",data:[],tension:.4}]},options:p,plugins:[Rt]})}),an(()=>a.destroy());const s=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),r=[];function d(){a&&a.data.datasets[0].data.length>=32&&(We([a,"access",c=>c.data,"access",c=>c.labels,"optionalAccess",c=>c.shift,"call",c=>c()]),a.data.datasets[0].data.shift(),a.update()),r.length>=32&&r.shift()}function i(p){d(),We([a,"optionalAccess",m=>m.data,"access",m=>m.labels,"access",m=>m.push,"call",m=>m(s())]),r.push(p);const c=Math.max(...r),g=Math.min(...r);a.data.datasets[0].data.push(Math.floor(Le.core.ILerp(g,c,p,100)));for(let m=0;m<We([a,"optionalAccess",_=>_.data,"access",_=>_.datasets,"access",_=>_[0],"access",_=>_.data,"access",_=>_.length]);m++){const _=Math.floor(Le.core.ILerp(g,c,r[m],100));a.data.datasets[0].data[m]=_}We([a,"optionalAccess",m=>m.update,"call",m=>m()])}return e({addRecord:i}),(p,c)=>(A(),O("div",Bn,Xn))}});function $(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Ie=o=>(Ot("data-v-eb321d17"),o=o(),Pt(),o),Yn={"aria-label":"downloader",class:"relative flex items-center gap-8"},jn={class:"w-poster-medium h-poster-medium bg-bg-10 relative shrink-0 overflow-hidden rounded-xl"},zn={class:"relative flex w-full justify-between"},Gn={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},Wn=Ie(()=>f("span",{class:"from-bg-10 to-bg-10/0 absolute h-full w-full bg-gradient-to-l from-20%"},null,-1)),Un=["src"],Vn={class:"relative flex w-full flex-col"},qn={class:"absolute left-3 top-3 flex flex-col gap-2"},Zn={class:"text-fonts-300 flex items-center gap-2 text-xl font-bold tracking-wider"},Kn={key:0,class:"text-fonts-300 text-sm font-bold tracking-wider"},Qn={key:0,class:"text-fonts-300 font-bold tracking-wider"},Jn={class:"mb-2 mt-16 h-full w-full"},eo={class:"mb-1 p-4"},to={class:"bg-bg-1/20 relative flex h-2 w-full overflow-hidden rounded-full"},no={key:0,class:"bg-bg-1/30 progress-holder absolute h-full w-full"},oo={class:"relative flex flex-col justify-between p-2 transition-opacity"},ao={class:"flex flex-row items-center gap-2"},lo={class:"relative flex flex-col items-center"},io={class:"bg-bg-11 flex shrink-0 translate-y-1 items-center justify-center rounded-full p-2"},so={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},ro=Ie(()=>f("svg",{class:"fill-bg-11 h-4 w-full self-center md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),co={class:"bg-bg-11 text-fonts-100 flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl px-3 text-center text-xs font-semibold"},uo={class:"flex flex-col items-center"},fo={class:"bg-bg-11 flex shrink-0 translate-y-1 items-center justify-center rounded-full p-2"},po=Ie(()=>f("svg",{class:"fill-bg-11 h-4 w-full self-center md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),ho={class:"bg-bg-11 text-fonts-100 flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl px-3 text-center text-xs font-semibold"},go={class:"relative flex items-center justify-center"},mo={class:"local-numbers text-6xl font-bold"},vo=Ie(()=>f("span",{class:"bg-bg-1/20 absolute h-16 w-16 translate-y-2 rounded-full blur-xl"},null,-1)),_o={class:"flex flex-col items-center"},bo={class:"hover:bg-bg-9/50 border-bg-9/0 bg-bg-11 flex cursor-pointer rounded-xl border-2 p-2 transition-colors"},wo={class:"hover:bg-bg-9/50 border-bg-9/0 bg-bg-11 flex cursor-pointer rounded-xl border-2 p-2 transition-colors"},yo=Ie(()=>f("svg",{class:"fill-bg-10 absolute right-[20vw] top-full z-10 w-[3rem]",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),xo=Ie(()=>f("svg",{class:"fill-bg-10 absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem]",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),Eo={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Do={class:"text-fonts-200 whitespace-nowrap text-2xl font-semibold"},So={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Co={class:"text-fonts-200 whitespace-nowrap text-2xl font-semibold"},Ao=be({__name:"DownloadManagerDownloader",setup(o){const e=An(),{bytesToSize:t}=Le.core,{scheduledDownloadables:n,unscheduledDownloadables:a,activeDownloadable:l,changeUpdater:s,downloadAction:r}=Ce(),{downloadSpeedLimit:d}=on(),i=ln(()=>e.progress),p=ne();sn(i,v=>{$([v,"optionalAccess",E=>E.status])==="active"&&$([p,"access",E=>E.value,"optionalAccess",E=>E.addRecord,"call",E=>E(v.downloadSpeed)])});async function c(){const v=$([e,"access",E=>E.progress,"optionalAccess",E=>E.status])==="active"?"pause":"unpause";await r(v),v==="pause"?(await s("stop"),i.value.downloadSpeed=0):s("start")}async function g(){await s("stop"),r("remove"),e.progress=void 0,$([l,"optionalAccess",I=>I.value])&&(l.value.downloading=!1),e.activeGID=void 0;const v=n.value[0],E=n.value.indexOf(v);n.value.splice(E,1),a.value.unshift(v)}const m=ne();async function _(){await new Promise(I=>setTimeout(I,250));const v=$([m,"access",I=>I.value,"optionalAccess",I=>I.$el,"access",I=>I.children,"access",I=>I[0]]),E=$([m,"access",I=>I.value,"optionalAccess",I=>I.$el,"access",I=>I.children,"access",I=>I[1]]);v&&v.tagName==="CANVAS"&&(v.style.opacity=0),E&&E.tagName==="IMG"&&(E.style.opacity=1)}return(v,E)=>{const I=$t("vue3-blurhash"),B=It,G=Rn,M=rt,W=ct;return A(),O("section",Yn,[S(B,{to:`/single/${$([b,"call",u=>u(l),"optionalAccess",u=>u.postId])}`,class:te([{"pointer-events-none opacity-20 grayscale":!b(l)}])},{default:R(()=>[f("div",jn,[$([b,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.poster,"access",u=>u.webp])?(A(),Ee(I,{key:0,ref_key:"img",ref:m,src:$([b,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.poster,"access",u=>u.webp]),punch:1,hash:$([b,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.poster,"access",u=>u.preview]),height:"100%",class:"blur-img rounded-xl",width:"100%","resolution-x":10,"resolution-y":10,onImageLoaded:_},null,8,["src","hash"])):Q("",!0)])]),_:1},8,["to","class"]),f("div",zn,[f("section",{"aria-label":"download info",class:te(["h-poster-medium bg-bg-10 ltr-dir relative flex w-full justify-between rounded-2xl shadow-lg",[{"pointer-events-none opacity-20 grayscale":!b(l)}]])},[f("div",Gn,[Wn,f("img",{src:$([b,"call",u=>u(l),"optionalAccess",u=>u.image,"access",u=>u.cover]),class:"h-full w-full object-cover",alt:""},null,8,Un)]),f("div",Vn,[f("div",qn,[f("h5",Zn,[z(D($([b,"call",u=>u(l),"optionalAccess",u=>u.title]))+" ",1),$([b,"call",u=>u(l),"optionalAccess",u=>u.episode])?(A(),O("p",Kn,D(`S${b(l).season}E${b(l).episode}`),1)):Q("",!0)]),$([b,"call",u=>u(l),"optionalAccess",u=>u.size])?(A(),O("h5",Qn,D($([b,"call",u=>u(l),"optionalAccess",u=>u.size])),1)):Q("",!0)]),f("div",Jn,[S(G,{ref_key:"chart",ref:p,class:"h-full w-full"},null,512)]),f("div",eo,[f("span",to,[S(In,{name:"fade-preset",mode:"out-in"},{default:R(()=>[$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"?(A(),O("span",no)):(A(),O("span",{key:1,class:"bg-primary-500/80 absolute left-0 h-full w-full origin-left scale-x-0",style:rn(`transform: scaleX(${($([b,"call",u=>u(i),"optionalAccess",u=>u.percent])||0)/100})`)},null,4))]),_:1})])])]),f("div",oo,[f("div",{class:te({" opacity-50":$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"})},[f("ul",ao,[f("li",lo,[f("span",io,[S(M,{name:"ph:gauge-fill",class:"text-fonts-100 text-2xl"}),S(W,{placement:"top"},{default:R(()=>[z(D(v.$t("downloadSpeed")),1)]),_:1})]),b(d)?(A(),O("span",so,[S(W,{placement:"top"},{default:R(()=>[z(D(v.$t("speedLimiterIsActive")),1)]),_:1})])):Q("",!0),ro,f("p",co,D(b(t)($([b,"call",u=>u(i),"optionalAccess",u=>u.downloadSpeed])||0))+"/s ",1)]),f("li",uo,[f("span",fo,[S(M,{name:"ph:download-fill",class:"text-fonts-100 text-2xl"}),S(W,{placement:"top"},{default:R(()=>[z(D(v.$t("size")),1)]),_:1})]),po,f("p",ho,D(b(t)($([b,"call",u=>u(i),"optionalAccess",u=>u.completedLength])||0)),1)])])],2),f("div",{class:te(["flex flex-col items-center",{" opacity-50":$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"}])},[f("div",go,[f("h4",mo,D($([b,"call",u=>u(i),"optionalAccess",u=>u.percent])||0)+"%",1),vo])],2),f("div",_o,[f("ul",{class:te(["flex gap-3",[{disabled:!b(l)},{invisible:!b(l)}]])},[f("li",{class:te([{"pointer-events-none":!b(i)||b(i).status==="preparing"},{" opacity-50":$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"}]),onClick:E[0]||(E[0]=u=>c())},[f("div",bo,[$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="active"?(A(),Ee(M,{key:0,name:"ph:pause-fill",class:"text-fonts-100 text-md"})):$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="paused"?(A(),Ee(M,{key:1,name:"ph:play-fill",class:"text-fonts-100 text-md"})):(A(),Ee(M,{key:2,name:"ph:pause-fill",class:"text-fonts-100 text-md"})),S(W,{placement:"top"},{default:R(()=>[z(D($([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="active"?v.$t("pauseDownload"):v.$t("resumeDownload")),1)]),_:1})])],2),f("li",{onClick:g},[f("div",wo,[S(M,{name:"ph:x-bold",class:"text-fonts-100 text-md"}),S(W,{placement:"top"},{default:R(()=>[z(D(v.$t("cancel")),1)]),_:1})])])],2)])]),yo,xo],2),b(l)?Q("",!0):(A(),O("span",Eo,[f("h4",Do,D(v.$t("youHaveNoActiveDownload")),1)])),$([b,"call",u=>u(i),"optionalAccess",u=>u.status])==="preparing"?(A(),O("span",So,[f("h4",Co,D(v.$t("preparingDownload")),1)])):Q("",!0)])])}}});const Io=kt(Ao,[["__scopeId","data-v-eb321d17"]]);function Yt(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Nt=o=>(Ot("data-v-2840e3fe"),o=o(),Pt(),o),To={"aria-label":"download item",class:"flex w-full items-center gap-8"},$o={class:"bg-bg-8 h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg"},Oo={class:"bg-bg-11 relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl"},Po={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},ko=Nt(()=>f("span",{class:"from-bg-11 to-bg-11/0 absolute h-full w-full bg-gradient-to-l from-20%"},null,-1)),No=["src"],Mo={class:"drag-target h-full w-full p-4"},Fo={class:"relative flex flex-col"},Lo={key:0,class:"text-fonts-300 ltr-dir text-base font-bold"},Bo={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-base font-bold"},Ho={class:"ltr-dir text-base font-semibold"},Xo={key:0},Ro=Nt(()=>f("span",{class:"text-fonts-300"}," / ",-1)),Yo={class:"text-fonts-300"},jo=Nt(()=>f("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[f("span",{class:"bg-bg-9 h-1 w-6 rounded-full"}),f("span",{class:"bg-bg-9 h-1 w-6 rounded-full"}),f("span",{class:"bg-bg-9 h-1 w-6 rounded-full"})],-1)),zo={class:"flex p-4"},Go={class:"absolute bottom-full right-0 flex items-center gap-2"},Wo={class:"local-numbers"},Uo={class:"bg-bg-1/10 relative flex h-2 w-full overflow-hidden rounded-full"},Vo={class:"flex items-center gap-2"},qo=be({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(o){const e=o,{scheduledDownloadables:t,unscheduledDownloadables:n}=Ce(),a=cn(),l=ne();async function s(){await new Promise(c=>setTimeout(c,250));const i=Yt([l,"access",c=>c.value,"optionalAccess",c=>c.$el,"access",c=>c.children,"access",c=>c[0]]),p=Yt([l,"access",c=>c.value,"optionalAccess",c=>c.$el,"access",c=>c.children,"access",c=>c[1]]);i&&i.tagName==="CANVAS"&&(i.style.opacity=0),p&&p.tagName==="IMG"&&(p.style.opacity=1)}function r(){t&&(t.value=t.value.filter(i=>i.id!==e.data.id)),n&&(n.value=n.value.filter(i=>i.id!==e.data.id))}function d(){if(!t||!n)return;const i=n.value.find(c=>c.id===e.data.id),p=t.value.find(c=>c.id===e.data.id);i?(t.value=[i,...t.value],n.value=n.value.filter(c=>c.id!==e.data.id),i.id=new Date().getTime()):p&&(t.value=t.value.filter(c=>c.id!==e.data.id),t.value=[p,...t.value],p.id=new Date().getTime())}return(i,p)=>{const c=$t("vue3-blurhash"),g=It,m=rt,_=ct;return A(),O("section",To,[S(g,{to:`/single/${i.data.postId}`},{default:R(()=>[f("div",$o,[S(c,{ref_key:"img",ref:l,src:i.data.image.poster.webp,punch:1,hash:i.data.image.poster.preview,height:"100%",class:"blur-img",width:"100%","resolution-x":10,"resolution-y":10,onImageLoaded:s},null,8,["src","hash"])])]),_:1},8,["to"]),f("div",Oo,[f("div",Po,[ko,f("img",{src:i.data.image.cover,class:"h-full w-full object-cover",alt:""},null,8,No)]),f("span",Mo,[f("div",Fo,[f("h6",{class:te(["ltr-dir line-clamp-1 break-all",i.data.title.length>25?"text-lg":"text-xl"])},D(i.data.title),3),i.data.season!==void 0&&i.data.episode!==void 0?(A(),O("p",Lo,"S"+D(i.data.season)+"E"+D(i.data.episode),1)):Q("",!0),f("p",Bo,D(i.data.quality),1),f("p",Ho,[i.data.progress?(A(),O("span",Xo,[z(D(i.data.progress.downloaded)+" ",1),Ro])):Q("",!0),f("span",Yo,D(i.data.size),1)])]),jo]),f("div",zo,[f("ul",{class:te(["flex items-center gap-2",{"drag-target":!i.data.error}])},[f("li",{class:te(["hover:bg-bg-9 flex cursor-pointer items-center justify-center rounded-full p-2 transition-all",{invisible:!i.data.error}]),onClick:p[0]||(p[0]=v=>b(a).toggleMessage(!0,i.data.error,"code"))},[S(m,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),S(_,{placement:"top"},{default:R(()=>[z(D(i.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),i.data.progress?(A(),O("li",{key:0,class:"progress relative mx-4 w-48",onClick:p[1]||(p[1]=v=>b(a).toggleMessage(!0))},[f("div",Go,[f("span",Wo,D(i.data.progress.percent)+"%",1)]),f("span",Uo,[f("span",{class:"full bg-primary-500 absolute left-0 h-full w-full origin-left scale-x-0",style:rn(`transform: scaleX(${i.data.progress.percent/100})`)},null,4)])])):Q("",!0)],2),f("ul",Vo,[f("li",{class:"hover:bg-bg-9 flex cursor-pointer rounded-full p-2 transition-colors",onClick:r},[S(m,{name:"ph:trash-fill",class:"text-fonts-100 text-xl"}),S(_,{placement:"top"},{default:R(()=>[z(D(i.$t("deleteFromList")),1)]),_:1})]),f("li",{class:"hover:bg-bg-9 flex cursor-pointer rounded-full p-2 transition-colors",onClick:d},[S(m,{name:"ph:download-simple-fill",class:"text-fonts-100 text-xl"}),S(_,{placement:"top"},{default:R(()=>[z(D(i.$t("downloadNow")),1)]),_:1})])])])])])}}});const Zo=kt(qo,[["__scopeId","data-v-2840e3fe"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jt(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),t.push.apply(t,n)}return t}function ae(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jt(Object(t),!0).forEach(function(n){Ko(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Ke(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ke=function(e){return typeof e}:Ke=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(o)}function Ko(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function se(){return se=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},se.apply(this,arguments)}function Qo(o,e){if(o==null)return{};var t={},n=Object.keys(o),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(t[a]=o[a]);return t}function Jo(o,e){if(o==null)return{};var t=Qo(o,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var ea="1.15.0";function ie(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var re=ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),je=ie(/Edge/i),zt=ie(/firefox/i),Be=ie(/safari/i)&&!ie(/chrome/i)&&!ie(/android/i),dn=ie(/iP(ad|od|hone)/i),un=ie(/chrome/i)&&ie(/android/i),fn={capture:!1,passive:!1};function T(o,e,t){o.addEventListener(e,t,!re&&fn)}function C(o,e,t){o.removeEventListener(e,t,!re&&fn)}function nt(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function ta(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function ee(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&nt(o,e):nt(o,e))||n&&o===t)return o;if(o===t)break}while(o=ta(o))}return null}var Gt=/\s+/g;function V(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(Gt," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(Gt," ")}}function w(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function Se(o,e){var t="";if(typeof o=="string")t=o;else do{var n=w(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function pn(o,e,t){if(o){var n=o.getElementsByTagName(e),a=0,l=n.length;if(t)for(;a<l;a++)t(n[a],a);return n}return[]}function oe(){var o=document.scrollingElement;return o||document.documentElement}function L(o,e,t,n,a){if(!(!o.getBoundingClientRect&&o!==window)){var l,s,r,d,i,p,c;if(o!==window&&o.parentNode&&o!==oe()?(l=o.getBoundingClientRect(),s=l.top,r=l.left,d=l.bottom,i=l.right,p=l.height,c=l.width):(s=0,r=0,d=window.innerHeight,i=window.innerWidth,p=window.innerHeight,c=window.innerWidth),(e||t)&&o!==window&&(a=a||o.parentNode,!re))do if(a&&a.getBoundingClientRect&&(w(a,"transform")!=="none"||t&&w(a,"position")!=="static")){var g=a.getBoundingClientRect();s-=g.top+parseInt(w(a,"border-top-width")),r-=g.left+parseInt(w(a,"border-left-width")),d=s+l.height,i=r+l.width;break}while(a=a.parentNode);if(n&&o!==window){var m=Se(a||o),_=m&&m.a,v=m&&m.d;m&&(s/=v,r/=_,c/=_,p/=v,d=s+p,i=r+c)}return{top:s,left:r,bottom:d,right:i,width:c,height:p}}}function Wt(o,e,t){for(var n=pe(o,!0),a=L(o)[e];n;){var l=L(n)[t],s=void 0;if(t==="top"||t==="left"?s=a>=l:s=a<=l,!s)return n;if(n===oe())break;n=pe(n,!1)}return!1}function Ae(o,e,t,n){for(var a=0,l=0,s=o.children;l<s.length;){if(s[l].style.display!=="none"&&s[l]!==y.ghost&&(n||s[l]!==y.dragged)&&ee(s[l],t.draggable,o,!1)){if(a===e)return s[l];a++}l++}return null}function Mt(o,e){for(var t=o.lastElementChild;t&&(t===y.ghost||w(t,"display")==="none"||e&&!nt(t,e));)t=t.previousElementSibling;return t||null}function K(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==y.clone&&(!e||nt(o,e))&&t++;return t}function Ut(o){var e=0,t=0,n=oe();if(o)do{var a=Se(o),l=a.a,s=a.d;e+=o.scrollLeft*l,t+=o.scrollTop*s}while(o!==n&&(o=o.parentNode));return[e,t]}function na(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function pe(o,e){if(!o||!o.getBoundingClientRect)return oe();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=w(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return oe();if(n||e)return t;n=!0}}while(t=t.parentNode);return oe()}function oa(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function ut(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var He;function hn(o,e){return function(){if(!He){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),He=setTimeout(function(){He=void 0},e)}}}function aa(){clearTimeout(He),He=void 0}function gn(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function mn(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}var Z="Sortable"+new Date().getTime();function la(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(w(a,"display")==="none"||a===y.ghost)){o.push({target:a,rect:L(a)});var l=ae({},o[o.length-1].rect);if(a.thisAnimationDuration){var s=Se(a,!0);s&&(l.top-=s.f,l.left-=s.e)}a.fromRect=l}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(na(o,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,s=0;o.forEach(function(r){var d=0,i=r.target,p=i.fromRect,c=L(i),g=i.prevFromRect,m=i.prevToRect,_=r.rect,v=Se(i,!0);v&&(c.top-=v.f,c.left-=v.e),i.toRect=c,i.thisAnimationDuration&&ut(g,c)&&!ut(p,c)&&(_.top-c.top)/(_.left-c.left)===(p.top-c.top)/(p.left-c.left)&&(d=sa(_,g,m,a.options)),ut(c,p)||(i.prevFromRect=p,i.prevToRect=c,d||(d=a.options.animation),a.animate(i,_,c,d)),d&&(l=!0,s=Math.max(s,d),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},d),i.thisAnimationDuration=d)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),o=[]},animate:function(n,a,l,s){if(s){w(n,"transition",""),w(n,"transform","");var r=Se(this.el),d=r&&r.a,i=r&&r.d,p=(a.left-l.left)/(d||1),c=(a.top-l.top)/(i||1);n.animatingX=!!p,n.animatingY=!!c,w(n,"transform","translate3d("+p+"px,"+c+"px,0)"),this.forRepaintDummy=ia(n),w(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),w(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){w(n,"transition",""),w(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function ia(o){return o.offsetWidth}function sa(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var we=[],ft={initializeByDefault:!0},ze={mount:function(e){for(var t in ft)ft.hasOwnProperty(t)&&!(t in e)&&(e[t]=ft[t]);we.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),we.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var l=e+"Global";we.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][l]&&t[s.pluginName][l](ae({sortable:t},n)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](ae({sortable:t},n)))})},initializePlugins:function(e,t,n,a){we.forEach(function(r){var d=r.pluginName;if(!(!e.options[d]&&!r.initializeByDefault)){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[d]=i,se(n,i.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var s=this.modifyOption(e,l,e.options[l]);typeof s<"u"&&(e.options[l]=s)}},getEventProperties:function(e,t){var n={};return we.forEach(function(a){typeof a.eventProperties=="function"&&se(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return we.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[t]=="function"&&(a=l.optionListeners[t].call(e[l.pluginName],n))}),a}};function ra(o){var e=o.sortable,t=o.rootEl,n=o.name,a=o.targetEl,l=o.cloneEl,s=o.toEl,r=o.fromEl,d=o.oldIndex,i=o.newIndex,p=o.oldDraggableIndex,c=o.newDraggableIndex,g=o.originalEvent,m=o.putSortable,_=o.extraEventProperties;if(e=e||t&&t[Z],!!e){var v,E=e.options,I="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!re&&!je?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=s||t,v.from=r||t,v.item=a||t,v.clone=l,v.oldIndex=d,v.newIndex=i,v.oldDraggableIndex=p,v.newDraggableIndex=c,v.originalEvent=g,v.pullMode=m?m.lastPutMode:void 0;var B=ae(ae({},_),ze.getEventProperties(n,e));for(var G in B)v[G]=B[G];t&&t.dispatchEvent(v),E[I]&&E[I].call(e,v)}}var ca=["evt"],j=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,l=Jo(n,ca);ze.pluginEvent.bind(y)(e,t,ae({dragEl:h,parentEl:N,ghostEl:x,rootEl:P,nextEl:_e,lastDownEl:Qe,cloneEl:k,cloneHidden:fe,dragStarted:Ne,putSortable:H,activeSortable:y.active,originalEvent:a,oldIndex:De,oldDraggableIndex:Xe,newIndex:q,newDraggableIndex:ue,hideGhostForTarget:wn,unhideGhostForTarget:yn,cloneNowHidden:function(){fe=!0},cloneNowShown:function(){fe=!1},dispatchSortableEvent:function(r){Y({sortable:t,name:r,originalEvent:a})}},l))};function Y(o){ra(ae({putSortable:H,cloneEl:k,targetEl:h,rootEl:P,oldIndex:De,oldDraggableIndex:Xe,newIndex:q,newDraggableIndex:ue},o))}var h,N,x,P,_e,Qe,k,fe,De,q,Xe,ue,Ue,H,xe=!1,ot=!1,at=[],me,J,pt,ht,Vt,qt,Ne,ye,Re,Ye=!1,Ve=!1,Je,X,gt=[],Dt=!1,lt=[],dt=typeof document<"u",qe=dn,Zt=je||re?"cssFloat":"float",da=dt&&!un&&!dn&&"draggable"in document.createElement("div"),vn=function(){if(dt){if(re)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),_n=function(e,t){var n=w(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Ae(e,0,t),s=Ae(e,1,t),r=l&&w(l),d=s&&w(s),i=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+L(l).width,p=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+L(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var c=r.float==="left"?"left":"right";return s&&(d.clear==="both"||d.clear===c)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||i>=a&&n[Zt]==="none"||s&&n[Zt]==="none"&&i+p>a)?"vertical":"horizontal"},ua=function(e,t,n){var a=n?e.left:e.top,l=n?e.right:e.bottom,s=n?e.width:e.height,r=n?t.left:t.top,d=n?t.right:t.bottom,i=n?t.width:t.height;return a===r||l===d||a+s/2===r+i/2},fa=function(e,t){var n;return at.some(function(a){var l=a[Z].options.emptyInsertThreshold;if(!(!l||Mt(a))){var s=L(a),r=e>=s.left-l&&e<=s.right+l,d=t>=s.top-l&&t<=s.bottom+l;if(r&&d)return n=a}}),n},bn=function(e){function t(l,s){return function(r,d,i,p){var c=r.options.group.name&&d.options.group.name&&r.options.group.name===d.options.group.name;if(l==null&&(s||c))return!0;if(l==null||l===!1)return!1;if(s&&l==="clone")return l;if(typeof l=="function")return t(l(r,d,i,p),s)(r,d,i,p);var g=(s?r:d).options.group.name;return l===!0||typeof l=="string"&&l===g||l.join&&l.indexOf(g)>-1}}var n={},a=e.group;(!a||Ke(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},wn=function(){!vn&&x&&w(x,"display","none")},yn=function(){!vn&&x&&w(x,"display","")};dt&&!un&&document.addEventListener("click",function(o){if(ot)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),ot=!1,!1},!0);var ve=function(e){if(h){e=e.touches?e.touches[0]:e;var t=fa(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Z]._onDragOver(n)}}},pa=function(e){h&&h.parentNode[Z]._isOutsideThisEl(e.target)};function y(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=se({},e),o[Z]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _n(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,r){s.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&!Be,emptyInsertThreshold:5};ze.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);bn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:da,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(o,"pointerdown",this._onTapStart):(T(o,"mousedown",this._onTapStart),T(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(o,"dragover",this),T(o,"dragenter",this)),at.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),se(this,la())}y.prototype={constructor:y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ye=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,l=a.preventOnFilter,s=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(r||e).target,i=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,p=a.filter;if(ya(n),!h&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||a.disabled)&&!i.isContentEditable&&!(!this.nativeDraggable&&Be&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=ee(d,a.draggable,n,!1),!(d&&d.animated)&&Qe!==d)){if(De=K(d),Xe=K(d,a.draggable),typeof p=="function"){if(p.call(this,e,d,this)){Y({sortable:t,rootEl:i,name:"filter",targetEl:d,toEl:n,fromEl:n}),j("filter",t,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(p&&(p=p.split(",").some(function(c){if(c=ee(i,c.trim(),n,!1),c)return Y({sortable:t,rootEl:c,name:"filter",targetEl:d,fromEl:n,toEl:n}),j("filter",t,{evt:e}),!0}),p)){l&&e.cancelable&&e.preventDefault();return}a.handle&&!ee(i,a.handle,n,!1)||this._prepareDragStart(e,r,d)}}},_prepareDragStart:function(e,t,n){var a=this,l=a.el,s=a.options,r=l.ownerDocument,d;if(n&&!h&&n.parentNode===l){var i=L(n);if(P=l,h=n,N=h.parentNode,_e=h.nextSibling,Qe=n,Ue=s.group,y.dragged=h,me={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},Vt=me.clientX-i.left,qt=me.clientY-i.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",d=function(){if(j("delayEnded",a,{evt:e}),y.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!zt&&a.nativeDraggable&&(h.draggable=!0),a._triggerDragStart(e,t),Y({sortable:a,name:"choose",originalEvent:e}),V(h,s.chosenClass,!0)},s.ignore.split(",").forEach(function(p){pn(h,p.trim(),mt)}),T(r,"dragover",ve),T(r,"mousemove",ve),T(r,"touchmove",ve),T(r,"mouseup",a._onDrop),T(r,"touchend",a._onDrop),T(r,"touchcancel",a._onDrop),zt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),j("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(je||re))){if(y.eventCanceled){this._onDrop();return}T(r,"mouseup",a._disableDelayedDrag),T(r,"touchend",a._disableDelayedDrag),T(r,"touchcancel",a._disableDelayedDrag),T(r,"mousemove",a._delayedDragTouchMoveHandler),T(r,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&T(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(d,s.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&mt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;C(e,"mouseup",this._disableDelayedDrag),C(e,"touchend",this._disableDelayedDrag),C(e,"touchcancel",this._disableDelayedDrag),C(e,"mousemove",this._delayedDragTouchMoveHandler),C(e,"touchmove",this._delayedDragTouchMoveHandler),C(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):t?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(h,"dragend",this),T(P,"dragstart",this._onDragStart));try{document.selection?et(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(xe=!1,P&&h){j("dragStarted",this,{evt:t}),this.nativeDraggable&&T(document,"dragover",pa);var n=this.options;!e&&V(h,n.dragClass,!1),V(h,n.ghostClass,!0),y.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(J){this._lastX=J.clientX,this._lastY=J.clientY,wn();for(var e=document.elementFromPoint(J.clientX,J.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(J.clientX,J.clientY),e!==t);)t=e;if(h.parentNode[Z]._isOutsideThisEl(e),t)do{if(t[Z]){var n=void 0;if(n=t[Z]._onDragOver({clientX:J.clientX,clientY:J.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);yn()}},_onTouchMove:function(e){if(me){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,l=e.touches?e.touches[0]:e,s=x&&Se(x,!0),r=x&&s&&s.a,d=x&&s&&s.d,i=qe&&X&&Ut(X),p=(l.clientX-me.clientX+a.x)/(r||1)+(i?i[0]-gt[0]:0)/(r||1),c=(l.clientY-me.clientY+a.y)/(d||1)+(i?i[1]-gt[1]:0)/(d||1);if(!y.active&&!xe){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(x){s?(s.e+=p-(pt||0),s.f+=c-(ht||0)):s={a:1,b:0,c:0,d:1,e:p,f:c};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");w(x,"webkitTransform",g),w(x,"mozTransform",g),w(x,"msTransform",g),w(x,"transform",g),pt=p,ht=c,J=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!x){var e=this.options.fallbackOnBody?document.body:P,t=L(h,!0,qe,!0,e),n=this.options;if(qe){for(X=e;w(X,"position")==="static"&&w(X,"transform")==="none"&&X!==document;)X=X.parentNode;X!==document.body&&X!==document.documentElement?(X===document&&(X=oe()),t.top+=X.scrollTop,t.left+=X.scrollLeft):X=oe(),gt=Ut(X)}x=h.cloneNode(!0),V(x,n.ghostClass,!1),V(x,n.fallbackClass,!0),V(x,n.dragClass,!0),w(x,"transition",""),w(x,"transform",""),w(x,"box-sizing","border-box"),w(x,"margin",0),w(x,"top",t.top),w(x,"left",t.left),w(x,"width",t.width),w(x,"height",t.height),w(x,"opacity","0.8"),w(x,"position",qe?"absolute":"fixed"),w(x,"zIndex","100000"),w(x,"pointerEvents","none"),y.ghost=x,e.appendChild(x),w(x,"transform-origin",Vt/parseInt(x.style.width)*100+"% "+qt/parseInt(x.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,l=n.options;if(j("dragStart",this,{evt:e}),y.eventCanceled){this._onDrop();return}j("setupClone",this),y.eventCanceled||(k=mn(h),k.removeAttribute("id"),k.draggable=!1,k.style["will-change"]="",this._hideClone(),V(k,this.options.chosenClass,!1),y.clone=k),n.cloneId=et(function(){j("clone",n),!y.eventCanceled&&(n.options.removeCloneOnHide||P.insertBefore(k,h),n._hideClone(),Y({sortable:n,name:"clone"}))}),!t&&V(h,l.dragClass,!0),t?(ot=!0,n._loopId=setInterval(n._emulateDragOver,50)):(C(document,"mouseup",n._onDrop),C(document,"touchend",n._onDrop),C(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,h)),T(document,"drop",n),w(h,"transform","translateZ(0)")),xe=!0,n._dragStartId=et(n._dragStarted.bind(n,t,e)),T(document,"selectstart",n),Ne=!0,Be&&w(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,l,s,r=this.options,d=r.group,i=y.active,p=Ue===d,c=r.sort,g=H||i,m,_=this,v=!1;if(Dt)return;function E(ke,Sn){j(ke,_,ae({evt:e,isOwner:p,axis:m?"vertical":"horizontal",revert:s,dragRect:a,targetRect:l,canSort:c,fromSortable:g,target:n,completed:B,onMove:function(Ht,Cn){return Ze(P,t,h,a,Ht,L(Ht),e,Cn)},changed:G},Sn))}function I(){E("dragOverAnimationCapture"),_.captureAnimationState(),_!==g&&g.captureAnimationState()}function B(ke){return E("dragOverCompleted",{insertion:ke}),ke&&(p?i._hideClone():i._showClone(_),_!==g&&(V(h,H?H.options.ghostClass:i.options.ghostClass,!1),V(h,r.ghostClass,!0)),H!==_&&_!==y.active?H=_:_===y.active&&H&&(H=null),g===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){E("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===h&&!h.animated||n===t&&!n.animated)&&(ye=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(h.parentNode[Z]._isOutsideThisEl(e.target),!ke&&ve(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function G(){q=K(h),ue=K(h,r.draggable),Y({sortable:_,name:"change",toEl:t,newIndex:q,newDraggableIndex:ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ee(n,r.draggable,t,!0),E("dragOver"),y.eventCanceled)return v;if(h.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return B(!1);if(ot=!1,i&&!r.disabled&&(p?c||(s=N!==P):H===this||(this.lastPutMode=Ue.checkPull(this,i,h,e))&&d.checkPut(this,i,h,e))){if(m=this._getDirection(e,n)==="vertical",a=L(h),E("dragOverValid"),y.eventCanceled)return v;if(s)return N=P,I(),this._hideClone(),E("revert"),y.eventCanceled||(_e?P.insertBefore(h,_e):P.appendChild(h)),B(!0);var M=Mt(t,r.draggable);if(!M||va(e,m,this)&&!M.animated){if(M===h)return B(!1);if(M&&t===e.target&&(n=M),n&&(l=L(n)),Ze(P,t,h,a,n,l,e,!!n)!==!1)return I(),M&&M.nextSibling?t.insertBefore(h,M.nextSibling):t.appendChild(h),N=t,G(),B(!0)}else if(M&&ma(e,m,this)){var W=Ae(t,0,r,!0);if(W===h)return B(!1);if(n=W,l=L(n),Ze(P,t,h,a,n,l,e,!1)!==!1)return I(),t.insertBefore(h,W),N=t,G(),B(!0)}else if(n.parentNode===t){l=L(n);var u=0,he,Te=h.parentNode!==t,U=!ua(h.animated&&h.toRect||a,n.animated&&n.toRect||l,m),$e=m?"top":"left",ce=Wt(n,"top","top")||Wt(h,"top","top"),Oe=ce?ce.scrollTop:void 0;ye!==n&&(he=l[$e],Ye=!1,Ve=!U&&r.invertSwap||Te),u=_a(e,n,l,m,U?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Ve,ye===n);var le;if(u!==0){var ge=K(h);do ge-=u,le=N.children[ge];while(le&&(w(le,"display")==="none"||le===x))}if(u===0||le===n)return B(!1);ye=n,Re=u;var Pe=n.nextElementSibling,de=!1;de=u===1;var Ge=Ze(P,t,h,a,n,l,e,de);if(Ge!==!1)return(Ge===1||Ge===-1)&&(de=Ge===1),Dt=!0,setTimeout(ga,30),I(),de&&!Pe?t.appendChild(h):n.parentNode.insertBefore(h,de?Pe:n),ce&&gn(ce,0,Oe-ce.scrollTop),N=h.parentNode,he!==void 0&&!Ve&&(Je=Math.abs(he-L(n)[$e])),G(),B(!0)}if(t.contains(h))return B(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",ve),C(document,"mousemove",ve),C(document,"touchmove",ve)},_offUpEvents:function(){var e=this.el.ownerDocument;C(e,"mouseup",this._onDrop),C(e,"touchend",this._onDrop),C(e,"pointerup",this._onDrop),C(e,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(q=K(h),ue=K(h,n.draggable),j("drop",this,{evt:e}),N=h&&h.parentNode,q=K(h),ue=K(h,n.draggable),y.eventCanceled){this._nulling();return}xe=!1,Ve=!1,Ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Be&&w(document.body,"user-select",""),w(h,"transform",""),e&&(Ne&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),x&&x.parentNode&&x.parentNode.removeChild(x),(P===N||H&&H.lastPutMode!=="clone")&&k&&k.parentNode&&k.parentNode.removeChild(k),h&&(this.nativeDraggable&&C(h,"dragend",this),mt(h),h.style["will-change"]="",Ne&&!xe&&V(h,H?H.options.ghostClass:this.options.ghostClass,!1),V(h,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:N,newIndex:null,newDraggableIndex:null,originalEvent:e}),P!==N?(q>=0&&(Y({rootEl:N,name:"add",toEl:N,fromEl:P,originalEvent:e}),Y({sortable:this,name:"remove",toEl:N,originalEvent:e}),Y({rootEl:N,name:"sort",toEl:N,fromEl:P,originalEvent:e}),Y({sortable:this,name:"sort",toEl:N,originalEvent:e})),H&&H.save()):q!==De&&q>=0&&(Y({sortable:this,name:"update",toEl:N,originalEvent:e}),Y({sortable:this,name:"sort",toEl:N,originalEvent:e})),y.active&&((q==null||q===-1)&&(q=De,ue=Xe),Y({sortable:this,name:"end",toEl:N,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){j("nulling",this),P=h=N=x=_e=k=Qe=fe=me=J=Ne=q=ue=De=Xe=ye=Re=H=Ue=y.dragged=y.ghost=y.clone=y.active=null,lt.forEach(function(e){e.checked=!0}),lt.length=pt=ht=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),ha(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,l=n.length,s=this.options;a<l;a++)t=n[a],ee(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||wa(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(l,s){var r=a.children[s];ee(r,this.options.draggable,a,!1)&&(n[l]=r)},this),t&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(a.removeChild(n[l]),a.appendChild(n[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ee(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=ze.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&bn(n)},destroy:function(){j("destroy",this);var e=this.el;e[Z]=null,C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart),C(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),at.splice(at.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!fe){if(j("hideClone",this),y.eventCanceled)return;w(k,"display","none"),this.options.removeCloneOnHide&&k.parentNode&&k.parentNode.removeChild(k),fe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(fe){if(j("showClone",this),y.eventCanceled)return;h.parentNode==P&&!this.options.group.revertClone?P.insertBefore(k,h):_e?P.insertBefore(k,_e):P.appendChild(k),this.options.group.revertClone&&this.animate(h,k),w(k,"display",""),fe=!1}}};function ha(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Ze(o,e,t,n,a,l,s,r){var d,i=o[Z],p=i.options.onMove,c;return window.CustomEvent&&!re&&!je?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=o,d.dragged=t,d.draggedRect=n,d.related=a||e,d.relatedRect=l||L(e),d.willInsertAfter=r,d.originalEvent=s,o.dispatchEvent(d),p&&(c=p.call(i,d,s)),c}function mt(o){o.draggable=!1}function ga(){Dt=!1}function ma(o,e,t){var n=L(Ae(t.el,0,t.options,!0)),a=10;return e?o.clientX<n.left-a||o.clientY<n.top&&o.clientX<n.right:o.clientY<n.top-a||o.clientY<n.bottom&&o.clientX<n.left}function va(o,e,t){var n=L(Mt(t.el,t.options.draggable)),a=10;return e?o.clientX>n.right+a||o.clientX<=n.right&&o.clientY>n.bottom&&o.clientX>=n.left:o.clientX>n.right&&o.clientY>n.top||o.clientX<=n.right&&o.clientY>n.bottom+a}function _a(o,e,t,n,a,l,s,r){var d=n?o.clientY:o.clientX,i=n?t.height:t.width,p=n?t.top:t.left,c=n?t.bottom:t.right,g=!1;if(!s){if(r&&Je<i*a){if(!Ye&&(Re===1?d>p+i*l/2:d<c-i*l/2)&&(Ye=!0),Ye)g=!0;else if(Re===1?d<p+Je:d>c-Je)return-Re}else if(d>p+i*(1-a)/2&&d<c-i*(1-a)/2)return ba(e)}return g=g||s,g&&(d<p+i*l/2||d>c-i*l/2)?d>p+i/2?1:-1:0}function ba(o){return K(h)<K(o)?1:-1}function wa(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function ya(o){lt.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&lt.push(n)}}function et(o){return setTimeout(o,0)}function St(o){return clearTimeout(o)}dt&&T(document,"touchmove",function(o){(y.active||xe)&&o.cancelable&&o.preventDefault()});y.utils={on:T,off:C,css:w,find:pn,is:function(e,t){return!!ee(e,t,e,!1)},extend:oa,throttle:hn,closest:ee,toggleClass:V,clone:mn,index:K,nextTick:et,cancelNextTick:St,detectDirection:_n,getChild:Ae};y.get=function(o){return o[Z]};y.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(y.utils=ae(ae({},y.utils),n.utils)),ze.mount(n)})};y.create=function(o,e){return new y(o,e)};y.version=ea;var F=[],Me,Ct,At=!1,vt,_t,it,Fe;function xa(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):n.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),tt(),aa()},nulling:function(){it=Ct=Me=At=Fe=vt=_t=null,F.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,l=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(l,s);if(it=t,n||this.options.forceAutoScrollFallback||je||re||Be){bt(t,this.options,r,n);var d=pe(r,!0);At&&(!Fe||l!==vt||s!==_t)&&(Fe&&Kt(),Fe=setInterval(function(){var i=pe(document.elementFromPoint(l,s),!0);i!==d&&(d=i,tt()),bt(t,a.options,i,n)},10),vt=l,_t=s)}else{if(!this.options.bubbleScroll||pe(r,!0)===oe()){tt();return}bt(t,this.options,pe(r,!1),!1)}}},se(o,{pluginName:"scroll",initializeByDefault:!0})}function tt(){F.forEach(function(o){clearInterval(o.pid)}),F=[]}function Kt(){clearInterval(Fe)}var bt=hn(function(o,e,t,n){if(e.scroll){var a=(o.touches?o.touches[0]:o).clientX,l=(o.touches?o.touches[0]:o).clientY,s=e.scrollSensitivity,r=e.scrollSpeed,d=oe(),i=!1,p;Ct!==t&&(Ct=t,tt(),Me=e.scroll,p=e.scrollFn,Me===!0&&(Me=pe(t,!0)));var c=0,g=Me;do{var m=g,_=L(m),v=_.top,E=_.bottom,I=_.left,B=_.right,G=_.width,M=_.height,W=void 0,u=void 0,he=m.scrollWidth,Te=m.scrollHeight,U=w(m),$e=m.scrollLeft,ce=m.scrollTop;m===d?(W=G<he&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),u=M<Te&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(W=G<he&&(U.overflowX==="auto"||U.overflowX==="scroll"),u=M<Te&&(U.overflowY==="auto"||U.overflowY==="scroll"));var Oe=W&&(Math.abs(B-a)<=s&&$e+G<he)-(Math.abs(I-a)<=s&&!!$e),le=u&&(Math.abs(E-l)<=s&&ce+M<Te)-(Math.abs(v-l)<=s&&!!ce);if(!F[c])for(var ge=0;ge<=c;ge++)F[ge]||(F[ge]={});(F[c].vx!=Oe||F[c].vy!=le||F[c].el!==m)&&(F[c].el=m,F[c].vx=Oe,F[c].vy=le,clearInterval(F[c].pid),(Oe!=0||le!=0)&&(i=!0,F[c].pid=setInterval(function(){n&&this.layer===0&&y.active._onTouchMove(it);var Pe=F[this.layer].vy?F[this.layer].vy*r:0,de=F[this.layer].vx?F[this.layer].vx*r:0;typeof p=="function"&&p.call(y.dragged.parentNode[Z],de,Pe,o,it,F[this.layer].el)!=="continue"||gn(F[this.layer].el,de,Pe)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&g!==d&&(g=pe(g,!1)));At=i}},30),xn=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,l=e.activeSortable,s=e.dispatchSortableEvent,r=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(t){var i=n||l;r();var p=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(p.clientX,p.clientY);d(),i&&!i.el.contains(c)&&(s("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Ft(){}Ft.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Ae(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:xn};se(Ft,{pluginName:"revertOnSpill"});function Lt(){}Lt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:xn};se(Lt,{pluginName:"removeOnSpill"});y.mount(new xa);y.mount(Lt,Ft);var Ea=Object.defineProperty,st=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,Qt=(o,e,t)=>e in o?Ea(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Jt=(o,e)=>{for(var t in e||(e={}))En.call(e,t)&&Qt(o,t,e[t]);if(st)for(var t of st(e))Dn.call(e,t)&&Qt(o,t,e[t]);return o},Da=(o,e)=>{var t={};for(var n in o)En.call(o,n)&&e.indexOf(n)<0&&(t[n]=o[n]);if(o!=null&&st)for(var n of st(o))e.indexOf(n)<0&&Dn.call(o,n)&&(t[n]=o[n]);return t};function en(o,e,t={}){let n;const a=t,{document:l=On}=a,s=Da(a,["document"]),r={onUpdate:p=>{Sa(e,p.oldIndex,p.newIndex)}},d=()=>{const p=typeof o=="string"?l==null?void 0:l.querySelector(o):$n(o);p&&(n=new y(p,Jt(Jt({},r),s)))},i=()=>n==null?void 0:n.destroy();return Tn(d),Pn(i),{stop:i,start:d}}function Sa(o,e,t){const n=kn(o);if(t>=0&&t<n.length){const a=n.splice(e,1)[0];yt(()=>n.splice(t,0,a))}}function tn(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Ca={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},Aa={class:"flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4"},Ia={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},Ta={class:"flex items-center gap-4"},$a={class:"whitespace-nowrap font-semibold"},Oa=f("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Pa={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},ka={class:"flex items-center gap-4"},Na={class:"whitespace-nowrap font-semibold"},Ma=f("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Fa=be({__name:"DownloadManagerDownloadSection",setup(o){const e=ne(),t=ne(),n=ne(!0),{scheduledDownloadables:a,unscheduledDownloadables:l}=Ce();function s(){const i=tn([e,"access",c=>c.value,"optionalAccess",c=>c.children]),p=tn([t,"access",c=>c.value,"optionalAccess",c=>c.children]);if(!i||!p)return!1;if(i.length!==a.value.length||p.length!==l.value.length)return!0;for(let c=0;c<i.length;c++)if(i[c].getAttribute("dl-id")!==a.value[c].id.toString())return!0;for(let c=0;c<p.length;c++)if(p[c].getAttribute("dl-id")!==l.value[c].id.toString())return!0;return!1}function r(){console.warn("Detected desync, rerendering..."),n.value=!1,yt(()=>n.value=!0)}function d(i,p,c,g){if(g>=0&&g<p.value.length+1){const m=i.value.splice(c,1)[0];m&&p.value.splice(g,0,m)}yt(()=>{s()&&r()})}return en(e,a,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(i){d(l,a,i.oldIndex,i.newIndex)},onUpdate:function(i){d(a,a,i.oldIndex,i.newIndex)}}),en(t,l,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(i){d(a,l,i.oldIndex,i.newIndex)},onUpdate:function(i){d(l,l,i.oldIndex,i.newIndex)}}),(i,p)=>{const c=Zo;return A(),O("section",Ca,[f("div",Aa,[f("section",Ia,[f("div",Ta,[f("h4",$a,D(i.$t("scheduledDownload")),1),Oa]),f("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(A(!0),O(xt,null,Et(b(n)?b(a):[],g=>(A(),Ee(c,{key:g.id,dir:"ltr","dl-id":g.id,data:g,class:te({hidden:g.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),f("section",Pa,[f("div",ka,[f("h4",Na,D(i.$t("unScheduledDownload")),1),Ma]),f("div",{ref_key:"unscheduledEl",ref:t,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(A(!0),O(xt,null,Et(b(n)?b(l):[],g=>(A(),Ee(c,{key:g.id,dir:"ltr","dl-id":g.id,data:g},null,8,["dl-id","data"]))),128))],512)])])])}}});function nn(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const La={class:"flex w-full items-center gap-2"},Ba={class:"flex gap-2"},Ha={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},Xa={class:"flex flex-col items-start justify-start gap-1"},Ra={class:"line-clamp-1 break-all text-sm",dir:"ltr"},Ya={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},ja={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},za={class:"text-fonts-300 ltr-dir text-xs font-bold"},Ga={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},Wa=be({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(o){const{showPath:e,openPath:t,completedDownloadables:n}=Ce();function a(r){n&&(n.value=n.value.filter(d=>d.id!==r))}const l=ne();async function s(){await new Promise(i=>setTimeout(i,250));const r=nn([l,"access",i=>i.value,"optionalAccess",i=>i.$el,"access",i=>i.children,"access",i=>i[0]]),d=nn([l,"access",i=>i.value,"optionalAccess",i=>i.$el,"access",i=>i.children,"access",i=>i[1]]);r&&r.tagName==="CANVAS"&&(r.style.opacity=0),d&&d.tagName==="IMG"&&(d.style.opacity=1)}return(r,d)=>{const i=$t("vue3-blurhash"),p=It,c=rt,g=ct;return A(),O("div",La,[f("div",Ba,[S(p,{to:`/single/${r.data.postId}`},{default:R(()=>[f("div",Ha,[S(i,{ref_key:"img",ref:l,src:r.data.image.poster.webp,punch:1,hash:r.data.image.poster.preview,height:"100%",class:"blur-img",width:"100%","resolution-x":10,"resolution-y":10,onImageLoaded:s},null,8,["src","hash"])])]),_:1},8,["to"]),f("div",Xa,[f("h6",Ra,D(r.data.title),1),r.data.season!==void 0&&r.data.episode!==void 0?(A(),O("p",Ya,"S"+D(r.data.season)+"E"+D(r.data.episode),1)):Q("",!0),f("p",ja,D(r.data.quality),1),f("p",za,D(r.data.size),1)])]),f("ul",Ga,[f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:d[0]||(d[0]=m=>b(t)(r.data.path))},[S(c,{name:"ph:play-fill",class:"h-6 w-6"}),S(g,{placement:"top"},{default:R(()=>[z(D(r.$t("play")),1)]),_:1})]),f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:d[1]||(d[1]=m=>b(e)(r.data.path))},[S(c,{name:"ph:folder-fill",class:"h-6 w-6"}),S(g,{placement:"top"},{default:R(()=>[z(D(r.$t("browseLocation")),1)]),_:1})]),f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:d[2]||(d[2]=m=>a(r.data.id))},[S(c,{name:"ph:trash-fill",class:"h-6 w-6"}),S(g,{placement:"top"},{default:R(()=>[z(D(r.$t("removeFromHistory")),1)]),_:1})])])])}}});function Ua(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const Bt=o=>(Ot("data-v-4a5978b3"),o=o(),Pt(),o),Va={"aria-label":"download manager sidebar",class:"bg-bg-10 flex h-full w-[18rem] flex-col rounded-2xl shadow-lg"},qa={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},Za={class:"w-full font-semibold"},Ka={class:"relative flex flex-col items-center justify-center gap-4"},Qa={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},Ja={class:"local-numbers text-4xl font-bold"},el=Bt(()=>f("span",{class:"bg-bg-1 absolute h-4 w-4 rounded-full blur-md"},null,-1)),tl={class:"flex flex-row items-center gap-1",dir:"ltr"},nl={key:0},ol=Bt(()=>f("p",null,"/",-1)),al={key:1},ll={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},il={class:"w-full font-semibold"},sl={class:"flex w-full flex-1 overflow-y-auto"},rl={key:0,class:"flex w-full flex-col overflow-y-auto"},cl=Bt(()=>f("span",{class:"bg-bg-9/30 line my-2 h-[2px] w-[90%] self-center rounded-full px-12"},null,-1)),dl={key:1,class:"text-fonts-400 flex w-full flex-col items-center justify-center gap-4"},ul={class:"mb-32 font-bold"},fl=be({__name:"DownloadManagerSidebar",setup(o){const{bytesToSize:e}=Le.core,{getStorageStats:t,completedDownloadables:n}=Ce(),{downloadPath:a}=Ce(),l=ne(),s=ne(),r=ln(()=>s.value&&l.value?Math.floor(s.value/l.value*100):0);async function d(){if(!t)return;const{freeSpace:p,totalSpace:c}=await t();l.value=c,s.value=c-p}Tt(()=>{d(),setInterval(d,1e3*60*5)}),sn(a,()=>{d()});const i=cn();return(p,c)=>{const g=rt,m=ct,_=Ln,v=Wa;return A(),O("section",Va,[f("header",qa,[f("h4",Za,D(p.$t("storage"))+":",1),f("div",{class:"bg-bg-1/0 hover:bg-bg-1/10 absolute top-4 flex cursor-pointer rounded-full p-2 opacity-30 transition-all hover:opacity-100 ltr:right-4 rtl:left-4",onClick:c[0]||(c[0]=E=>b(i).toggleDownloadFolder())},[S(g,{name:"ph:folder-fill"}),S(m,{placement:"top"},{default:R(()=>[z(D(p.$t("storageLocation")),1)]),_:1})]),f("div",Ka,[S(_,{size:180,"stroke-width":12,linecap:"round",progress:b(r)},null,8,["progress"]),f("span",Qa,[f("h4",Ja,D(b(r))+"%",1),el]),f("div",tl,[b(s)?(A(),O("p",nl,D(b(e)(b(s))),1)):Q("",!0),ol,b(l)?(A(),O("p",al,D(b(e)(b(l))),1)):Q("",!0)])])]),f("section",ll,[f("h4",il,D(p.$t("history"))+":",1),f("div",sl,[Ua([b,"call",E=>E(n),"optionalAccess",E=>E.length])?(A(),O("ul",rl,[(A(!0),O(xt,null,Et(b(n),E=>(A(),O("li",{key:E.id,class:"history-item group flex w-full flex-col"},[S(v,{data:E},null,8,["data"]),cl]))),128))])):(A(),O("div",dl,[S(g,{name:"ph:download-fill",class:"text-4xl"}),f("h5",ul,D(p.$t("downloadHistoryIsEmpty")),1)]))])])])}}});const pl=kt(fl,[["__scopeId","data-v-4a5978b3"]]);function wt(o){let e,t=o[0],n=1;for(;n<o.length;){const a=o[n],l=o[n+1];if(n+=2,(a==="optionalAccess"||a==="optionalCall")&&t==null)return;a==="access"||a==="optionalAccess"?(e=t,t=l(t)):(a==="call"||a==="optionalCall")&&(t=l((...s)=>t.call(e,...s)),e=void 0)}return t}const hl={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},gl={class:"flex h-full w-full flex-col gap-8"},yl=be({__name:"download-manager",setup(o){const{isLoggedIn:e,user:t}=Nn(),{isElectron:n}=Mn();if(!n||!e||!wt([t,"optionalAccess",a=>a.user_allowed_to_download]))throw Fn({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return Tt(()=>{const a=document.getElementById("main-scroller");wt([a,"optionalAccess",l=>l.classList,"access",l=>l.add,"call",l=>l("overflow-hidden-force")])}),an(()=>{const a=document.getElementById("main-scroller");wt([a,"optionalAccess",l=>l.classList,"access",l=>l.remove,"call",l=>l("overflow-hidden-force")])}),(a,l)=>{const s=Io,r=Fa,d=pl;return A(),O("div",hl,[f("div",gl,[S(s,{dir:"ltr"}),S(r)]),S(d)])}}});export{yl as default};
