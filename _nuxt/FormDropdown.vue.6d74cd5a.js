import{d as I,b as N,r as c,A as S,l as g,a2 as $,o as d,e as p,f as r,N as f,g as o,t as y,h as L,ab as E,v as A,J as j,K as z,aA as F,G as M}from"./entry.b2e8da82.js";/* empty css                       *//* empty css                           */import{_ as T}from"./FormInput.2436ae24.js";import"./welcome.vue.4eddde78.js";/* empty css                               */import"./splide-extension-grid.esm.436de4e4.js";/* empty css                        *//* empty css                             */import"./SidebarMain.vue.da3a336f.js";/* empty css                              *//* empty css                                  *//* empty css                    */const G={class:"relative w-[12.5rem]"},J={class:"pointer-events-none -mb-2 transform-gpu whitespace-nowrap px-2 transition-all"},K={class:"text-fonts-200 line-clamp-1"},R={class:"flex h-full w-full flex-col gap-2 overflow-auto px-2","aria-labelledby":"dropdownMenuButton"},U={key:0,class:"mb-2 w-full"},q={key:1},H=["onClick"],ie=I({__name:"FormDropdown",props:{multiSelection:{type:Boolean},title:null,style:null,hasDefaultAll:{type:Boolean},selectedOption:null,selectedOptionArray:null,searchable:{type:Boolean},list:null},emits:["update:modelValue","onChange"],setup(i,{emit:b}){const n=i,{t:O}=N(),a=c(!1),h=c(),w=c(null),u=c(""),x=[{title:"item1",value:"number 1"},{title:"item2",value:"number 2"}],e=c([]);S(()=>{n.hasDefaultAll?e.value=n.selectedOptionArray?n.selectedOptionArray:n.selectedOption?[n.selectedOption||"ALL"]:["ALL"]:e.value=n.selectedOptionArray?n.selectedOptionArray:n.selectedOption!==void 0?[n.selectedOption]:[]});async function _(){var t;a.value=!0,await F(100),(t=w.value)==null||t.focusOnInput()}function C(){a.value=!1}function m(){const t=e.value.length?e.value:["ALL"];b("update:modelValue",t),b("onChange",t)}function k(){e.value=["ALL"],m(),a.value=!1}function B(t){if(n.multiSelection)return e.value=e.value.filter(l=>l!=="ALL"),e.value.includes(t)?(e.value=e.value.filter(l=>l!==t),e.value.length===0&&(e.value=["ALL"]),m()):(e.value.push(t),m());e.value=[t],m(),a.value=!1}const V=g(()=>(n.list||x).filter(l=>l.title.toLowerCase().includes(u.value.toLowerCase())));$(h,()=>{a.value&&(a.value=!1)});const D=g(()=>{const t=n.list||x;return e.value.map(l=>{var v;return l==="ALL"?O("form.dropdown.default"):((v=t.find(s=>s.value===l))==null?void 0:v.title)||l})});return(t,l)=>{const v=M;return d(),p("div",{ref_key:"dropdown",ref:h,class:"text-sm"},[r("div",G,[r("fieldset",{class:f(["text-fonts-50 input outline-fonts-[50] relative my-2 flex w-full cursor-pointer flex-row items-center justify-between gap-2 rounded-xl border-2 p-2 px-4 outline-offset-2 transition-colors",[{"!border-primary-500":o(a)},i.style.dimmed?"border-fonts-300":"border-fonts-50"]]),"aria-haspopup":"true","aria-expanded":"false",onClick:l[0]||(l[0]=s=>o(a)?C():_())},[r("legend",J,y(i.title),1),r("p",K,y([...o(D)].join(", ")),1),L(v,{name:"ph:caret-down-bold",class:f([{"rotate-180":o(a)},"transition-transform"])},null,8,["class"])],2),r("div",{class:f(["invisible absolute z-20 flex max-h-[15em] w-full -translate-y-2 flex-col gap-1 rounded-xl px-1 py-2 opacity-0 transition-all",[{"!visible !translate-y-0 !opacity-100":o(a)},i.style.foreground]])},[r("ul",R,[i.searchable?(d(),p("li",U,[L(o(T),{ref_key:"searchInputEl",ref:w,modelValue:o(u),"onUpdate:modelValue":l[1]||(l[1]=s=>E(u)?u.value=s:null),name:"dropdown-name-searchbox",label:t.$t("form.dropdown.search"),"label-bg":i.style.foreground,class:"text-xs",icon:"ph:magnifying-glass-fill"},null,8,["modelValue","label","label-bg"])])):A("",!0),!o(u)&&i.hasDefaultAll?(d(),p("li",q,[r("button",{type:"button",class:f([{"bg-primary-500 hover:!bg-primary-500 text-white":o(e).includes("ALL")},"10 hover:bg-fonts-50/10 flex w-full rounded-md px-4 py-2"]),onClick:k},y(t.$t("form.dropdown.default")),3)])):A("",!0),(d(!0),p(j,null,z(o(V),s=>(d(),p("li",{key:s.value},[r("button",{type:"button",class:f([{"bg-primary-500 hover:!bg-primary-500 text-white":o(e).includes(s.value)},"10 hover:bg-fonts-50/10 flex w-full rounded-md px-4 py-2"]),onClick:P=>B(s.value)},y(s.title),11,H)]))),128))])],2)])],512)}}});export{ie as _};
