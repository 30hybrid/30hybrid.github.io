import{_ as H}from"./FormDropdown.vue.c400031a.js";import{d as B,b as N,z as L,Q as E,p as P,r as g,Y as I,A as M,I as j,F as U,o as v,e as w,f as l,g as t,h as r,w as T,D as z,t as _,N as O,C as V,G as Y,H as Q,U as G,V as K,ac as Z,m as J,a6 as W,u as X,c as ee,B as te,s as se}from"./entry.facd84ab.js";import{_ as oe}from"./FormInput.922a9018.js";import{_ as le}from"./FormSwitch.f5a0d297.js";import{_ as ne}from"./SortByDropdown.vue.1e2b17b4.js";import"./welcome.vue.857b0031.js";import{_ as ae}from"./TitleList.vue.31935ed7.js";/* empty css                       *//* empty css                           *//* empty css                               */import"./splide-extension-grid.esm.646138e4.js";/* empty css                        *//* empty css                             */import"./SidebarMain.vue.21d49cda.js";/* empty css                              *//* empty css                                  *//* empty css                    */import"./BaseTitleFrame.c640c6c1.js";import"./BaseScore.vue.fa2dedc9.js";import"./nuxt-link.e20187dd.js";import"./ContentPop-v2.vue.1aede65f.js";function A(){this.value=this.value.replace(/([۰-۹])/g,f=>String.fromCharCode(f.charCodeAt(0)-1728)).replace(/[^0-9]/g,"")}const q=f=>(G("data-v-0dbc0a03"),f=f(),K(),f),re={class:"bg-bg-11 relative -my-2 mb-24 flex flex-col items-center justify-center gap-4 rounded-xl p-4"},ie={key:0,class:"search-options flex h-[9.375rem] flex-col gap-2"},de=Z('<div class="row h-[4.125rem]" data-v-0dbc0a03><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-0dbc0a03></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-0dbc0a03></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-0dbc0a03></div></div><div class="row h-[4.125rem]" data-v-0dbc0a03><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-0dbc0a03></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-0dbc0a03></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-0dbc0a03></div></div>',2),ue=[de],me={key:1,class:"search-options z-30 flex flex-col gap-2"},ce={class:"row"},pe={class:"row"},ge={class:"row"},fe={class:"row"},be={class:"row mt-[1rem] justify-around"},ve=q(()=>l("p",{class:"font-bold"}," 3D ",-1)),ye={class:"flex items-center"},he=q(()=>l("p",{class:"font-bold"}," x265 ",-1)),xe={class:"flex items-center"},_e={class:"font-bold"},we={class:"flex items-center"},Ce={class:"row"},$e={class:"flex w-[12.5rem] items-center gap-2"},De={class:"border-fonts-300 text-fonts-50 input outline-fonts-[50] flex w-full translate-y-1 flex-row items-center justify-center gap-2 rounded-xl border-2 p-2 px-4 py-2 text-sm outline-offset-2 transition-colors"},Se={class:"flex items-center gap-2"},ke={class:"whitespace-nowrap text-xs"},Re=["value"],Oe={class:"whitespace-nowrap text-xs"},Ve=["value","placeholder"],qe=q(()=>l("svg",{class:"fill-bg-11 w-[14rem]",viewBox:"0 0 38 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.5 3C27.6667 2 31.6 -2.79753e-07 38 0L30 -3.49691e-07L7.5 -1.3332e-06L0 -1.66103e-06C5.0511 -1.44024e-06 8.56663 1.41742 10.2483 2.46238C10.4687 2.62436 10.6892 2.77852 10.9099 2.92509C10.9415 2.95063 10.9715 2.97561 11 3L10.9219 2.9331C16.8223 6.84511 22.792 5.33316 26.7372 2.79671L26.5 3Z"})],-1)),Ae={class:"absolute mb-4"},Be=B({__name:"AdvancedSearchParams",emits:["submit"],setup(f,{emit:$}){const{t:D}=N(),S=L(),p=E(),y=P(),b=g(!1);I(b,o=>o===!0&&setTimeout(()=>{var e;return(e=document.querySelector('[aria-label="more options"]'))==null?void 0:e.classList.remove("overflow-hidden")},500));const c=g(!0),d=g(),k={...p.query},a=o=>k[o];function n(o,e){const u=e==="ALL"||e[0]==="ALL"||e==="false";y.replace({query:{...p.query,[o]:u?void 0:e}})}const i=g({"3D":a("3D")==="true",x265:a("x265")==="true",stream:a("stream")==="true"});M(async()=>{const o=await j("SEARCH_PARAMETERS",()=>U.API.actions.advanced_search_parameters());if(o.error)return S(o.msg,"ERROR");if(!o.success||!o.result)return S(D("errorMessage"),"ERROR");d.value=o.result,c.value=!1});function C(){$("submit",p.query)}return(o,e)=>{const u=H,m=Y,R=Q,h=oe,x=le,F=ne;return v(),w("div",null,[l("section",re,[t(c)?(v(),w("div",ie,ue)):(v(),w("div",me,[l("div",ce,[r(u,{title:o.$t("singleDetails.type"),list:t(d).type,"has-default-all":"",searchable:"","selected-option":a("type"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[0]||(e[0]=s=>n("type",s))},null,8,["title","list","selected-option"]),r(u,{title:o.$t("singleDetails.genre"),list:t(d).genre,"has-default-all":"",searchable:"","multi-selection":"","selected-option-array":t(p).query.genre?Array.isArray(t(p).query.genre)?t(p).query.genre:[t(p).query.genre]:void 0,style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[1]||(e[1]=s=>n("genre",s))},null,8,["title","list","selected-option-array"]),r(R,{class:"btn-primary-outline w-[12.5rem] translate-y-3",onClick:C},{default:T(()=>[r(m,{name:"ph:magnifying-glass-fill"}),z(" "+_(o.$t("search")),1)]),_:1})]),l("div",pe,[r(h,{"initial-value":a("actor"),label:o.$t("singleDetails.actor"),name:"actor",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[2]||(e[2]=s=>n("actor",s))},null,8,["initial-value","label"]),r(h,{"initial-value":a("director"),label:o.$t("singleDetails.director"),name:"director",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[3]||(e[3]=s=>n("director",s))},null,8,["initial-value","label"]),r(h,{"initial-value":a("writer"),label:o.$t("singleDetails.writer"),name:"writer",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[4]||(e[4]=s=>n("writer",s))},null,8,["initial-value","label"])]),l("section",{"aria-label":"more options",class:O(["flex max-h-0 transform-gpu flex-col gap-2 overflow-hidden pb-2 transition-all duration-500",{"max-h-[20rem] ":t(b)}])},[l("div",ge,[r(u,{title:o.$t("singleDetails.encoder"),list:t(d).encoder,"has-default-all":"",searchable:"","selected-option":a("encoder"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[5]||(e[5]=s=>n("encoder",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:o.$t("singleDetails.quality"),list:t(d).quality,"has-default-all":"",searchable:"","selected-option":a("quality"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[6]||(e[6]=s=>n("quality",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:o.$t("singleDetails.countries"),list:t(d).country,"has-default-all":"",searchable:"","selected-option":a("country"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[7]||(e[7]=s=>n("country",s[0]))},null,8,["title","list","selected-option"])]),l("div",fe,[r(u,{title:o.$t("singleDetails.primaryLanguage"),list:t(d).language,"has-default-all":"",searchable:"","selected-option":a("language"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[8]||(e[8]=s=>n("language",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:o.$t("singleDetails.age"),list:t(d).age,"has-default-all":"",searchable:"","selected-option":a("age"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[9]||(e[9]=s=>n("age",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:o.$t("singleDetails.score"),list:t(d).imdb_rate,"has-default-all":"",searchable:"","selected-option":a("imdb_rate"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[10]||(e[10]=s=>n("imdb_rate",s[0]))},null,8,["title","list","selected-option"])]),l("div",be,[l("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[14]||(e[14]=s=>{t(i)["3D"]=!t(i)["3D"],n("3D",t(i)["3D"].toString())})},[ve,l("div",ye,[r(x,{modelValue:t(i)["3D"],"onUpdate:modelValue":[e[11]||(e[11]=s=>t(i)["3D"]=s),e[12]||(e[12]=s=>n("3D",s))],onClick:e[13]||(e[13]=V(()=>{},["exact","stop"]))},null,8,["modelValue"])])]),l("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[18]||(e[18]=s=>{t(i).x265=!t(i).x265,n("x265",t(i).x265.toString())})},[he,l("div",xe,[r(x,{modelValue:t(i).x265,"onUpdate:modelValue":[e[15]||(e[15]=s=>t(i).x265=s),e[16]||(e[16]=s=>n("x265",s))],onClick:e[17]||(e[17]=V(()=>{},["exact","stop"]))},null,8,["modelValue"])])]),l("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[22]||(e[22]=s=>{t(i).stream=!t(i).stream,n("stream",t(i).stream.toString())})},[l("p",_e,_(t(D)("streamOnly")),1),l("div",we,[r(x,{modelValue:t(i).stream,"onUpdate:modelValue":[e[19]||(e[19]=s=>t(i).stream=s),e[20]||(e[20]=s=>n("stream",s))],onClick:e[21]||(e[21]=V(()=>{},["exact","stop"]))},null,8,["modelValue"])])])]),l("div",Ce,[r(u,{title:o.$t("singleDetails.network"),list:t(d).channel,"has-default-all":"",searchable:"","selected-option":a("channel"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[23]||(e[23]=s=>n("channel",s[0]))},null,8,["title","list","selected-option"]),r(F,{dimmed:""}),l("div",$e,[l("fieldset",De,[l("div",Se,[l("p",ke,_(o.$t("formYear")),1),l("input",{value:a("min_year"),dir:"auto",type:"text",class:"bg-bg-9 placeholder:text-fonts-300 flex w-[4em] rounded-lg py-1 text-center text-xs font-semibold",placeholder:"1890",maxlength:"4",onInput:e[24]||(e[24]=s=>(("useEnforcedNumbers"in o?o.useEnforcedNumbers:t(A)).bind(s.target)(),n("min_year",s.target.value)))},null,40,Re),l("p",Oe,_(o.$t("till")),1),l("input",{value:a("max_year"),dir:"auto",type:"text",class:"bg-bg-9 placeholder:text-fonts-300 flex w-[4em] rounded-lg py-1 text-center text-xs font-semibold",placeholder:new Date().getFullYear().toString(),maxlength:"4",onInput:e[25]||(e[25]=s=>(("useEnforcedNumbers"in o?o.useEnforcedNumbers:t(A)).bind(s.target)(),n("max_year",s.target.value)))},null,40,Ve)])])])])],2)])),l("span",{class:O(["group absolute left-1/2 top-full flex -translate-x-1/2 cursor-pointer items-center justify-center",{"pointer-events-none":t(c)}]),onClick:e[26]||(e[26]=s=>b.value=!t(b))},[qe,l("div",Ae,[r(m,{name:"ph:caret-down-bold",class:O(["fill-bg-11 text-2xl transition-transform will-change-transform group-hover:translate-y-[2px]",{"rotate-180 group-hover:!-translate-y-[2px]":t(b),"disable-block":t(c)}])},null,8,["class"])])],2)])])}}}),Ne=J(Be,[["__scopeId","data-v-0dbc0a03"]]),Le={class:"flex"},Ee={key:0,class:"flex h-full w-full items-center justify-center"},Pe={class:"text-fonts-700 text-5xl font-bold"},Ie={key:1,class:"flex h-full w-full items-center justify-center"},je={class:"text-fonts-700 text-5xl font-bold"},rt=B({__name:"advanced",setup(f){const{t:$}=N(),D=L(),S=W(),{infiniteScrolling:p}=X();ee({title:()=>`${$("seo.30nama")} | ${$("seo.advancedSearch")}`});const y=E(),b=P(),c=g({}),d=g(!1),k=g(),a=g({}),n=g(Number(y.query.page||"1"));function i(e){c.value={},a.value=e,b.replace({query:{...y.query,page:void 0}}),n.value=1,C(1)}async function C(e){d.value=!0;const u=`ADVANCED_SEARCH::${Object.entries(a.value).toString()}::${e}`,m=await j(u,()=>U.API.actions.advanced_search(a.value,a.value.sortBy,"ASC",e));if(d.value=!1,!!m){if(m.error)return D(m.msg,"ERROR");c.value[e]=m.result.posts,k.value={pages:m.result.pages,page:m.result.page,total:m.result.total}}}function o(e){p.value&&C(e)}return I(()=>y.query.page,e=>{p.value||!e||(n.value=e?Number(e):1,C(n.value))}),te(()=>{const{replaceLastRoute:e}=S;e(y.fullPath)}),(e,u)=>{var h,x;const m=Ne,R=ae;return v(),w("div",null,[r(m,{onSubmit:i}),l("section",Le,[!((h=t(c)[t(n)])!=null&&h.length)&&!Object.keys(t(a)).length&&!t(d)?(v(),w("span",Ee,[l("h4",Pe,_(e.$t("searchNow")),1)])):!((x=t(c)[t(n)])!=null&&x.length)&&!t(d)?(v(),w("span",Ie,[l("h4",je,_(t(c)[t(n)]?e.$t("noResult"):e.$t("searchNow")),1)])):(v(),se(R,{key:2,id:"title-list-result",title:e.$t("searchResults"),aligned:"",icon:"ph:magnifying-glass-fill",style:{background:"bg-bg-12",foreground:"bg-bg-11",shadowBack:"shadow-bg-12",shadowFore:"shadow-bg-11"},"is-loading":t(d),data:t(c),"result-info":t(k),onPageChanged:o},null,8,["title","is-loading","data","result-info"]))])])}}});export{rt as default};
